---
title: 'Paso a paso: Aplicación de video de TV simple usando Swift'
description: En este tema, aprenderá a crear una aplicación de reproducción de video simple usando Brightcove Player SDK para tvOS que se podrá reproducir en un Apple TV o en el simulador de Xcode. Lo creará utilizando el lenguaje de programación Swift.
parent: Basics 
grandparent: tvOS Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p class="video-cloud-only">Este ejemplo reproduce un video devuelto por <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">API de reproducción de Brightcove</a> , que es la API más reciente y recomendada para recuperar contenido de su biblioteca de Video Cloud.</p>

<p class="player-only">Este ejemplo reproduce videos de una matriz interna de archivos de video.</p>

<p class="video-cloud-only">Para utilizar la API de reproducción, necesitará una clave de política. Si no está familiarizado con las claves de política, consulte la <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Descripción general de la API de políticas</a>.</p>

<!-- <aside class="bcls-aside bcls-aside--tip">This example is written in Swift, but you can also experiment with Objective-C. See the <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/OUX/BasicOUXtvOSPlayer/objc">Obj-C version of the Basic tvOS player with the Once UX plugin</a> sample.</aside> -->
</section>

<section class="bcls-section">
<h2 id="Get_started">Empezar</h2>

<p class="player-only">Siga los pasos a continuación para familiarizarse con la configuración de un proyecto de aplicación que utilice Brightcove Player SDK para tvOS. Puede ver el código completo para cada uno de los siguientes:</p>

<ol class="player-only">
	<li><a href="#appdelegate">Delegado de aplicaciones</a></li>
	<li><a href="#viewControllerPerform">Controlador de vista</a></li>
</ol>

<div class="video-cloud-only">
<p>Hay dos formas de probar este ejemplo:</p>

<h3>Descarga la muestra</h3>

<p>Descarga todo el proyecto de Xcode para experimentar.</p>

<ol>
	<li>Clona o descarga el <a href="https://github.com/BrightcoveOS/ios-player-samples">SDK nativo para muestras de iOS</a> a su sistema local.</li>
	<li>Navega al <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Player/AppleTV/swift">Reproductor / AppleTV / swift</a> aplicación de muestra.</li>
	<li>Ejecutar el <code translate="No">pod install</code> mando.</li>
	<li>Abra y ejecute el espacio de trabajo recién creado.</li>
</ol>

<p>Para obtener más detalles, consulte la <a href="/getting-started/running-sample-apps-native-sdk-ios.html">Ejecución de aplicaciones de muestra para el SDK nativo para iOS / tvOS</a> documento.</p>

<h3>Cree la aplicación siguiendo los pasos de esta guía</h3>

<p>Siga los pasos a continuación para familiarizarse con la configuración de un proyecto de aplicación que utilice Brightcove Player SDK para tvOS. Puede ver el código completo para cada uno de los siguientes:</p>

<ol>
	<li><a href="#appdelegate">Delegado de aplicaciones</a></li>
	<li><a href="#viewController">Controlador de vista</a></li>
</ol>
</div>
</section>

<section class="bcls-section">
<h2 id="Create_the_project">Crea el proyecto</h2>

<p>Configura un proyecto en Xcode. Luego, agregue el SDK junto con las dependencias al proyecto.</p>

<h3>Configurar el proyecto Xcode</h3>

<p>Cree un nuevo proyecto de Xcode para la aplicación.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Inicie la creación de un nuevo proyecto de tvOS en Xcode. Seleccione <strong>Crea un nuevo proyecto de Xcode</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Create project" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/getting-started/quick-start/quick-start-welcome.png" />
	<figcaption class="bcls-caption--image">Crear proyecto</figcaption>
	</figure>
	</li>
	<li>
	<p>Elige un tvOS <strong>Aplicación de vista única</strong> para la plantilla y seleccione <strong>próximo</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Choose project template" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/quick-start-choose-project-template.png" />
	<figcaption class="bcls-caption--image">Elija la plantilla del proyecto</figcaption>
	</figure>
	</li>
	<li>
	<p>Configure la información del proyecto de la siguiente manera:</p>

	<ul>
		<li><strong>Nombre del producto:</strong> Reproducción de video simple</li>
		<li><strong>Equipo:</strong> ninguno
		<p>El campo Equipo es opcional. Si desea distribuir su aplicación en la App Store, deberá seleccionar un equipo al que pertenezca a través del Programa de desarrolladores de Apple. Se requiere el nombre del equipo para la firma de código. En este ejemplo, seleccionaremos ninguno.</p>
		</li>
		<li><strong>Nombre de la Organización:</strong> el nombre de tu compañía</li>
		<li><strong>Identificador de organización:</strong> com.example-company<br />
		Esto hace que el nombre del producto sea único para la tienda de aplicaciones.</li>
		<li><strong>Idioma:</strong> Rápido</li>
	</ul>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add project information" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/project-options.png" />
	<figcaption class="bcls-caption--image">Agregar información del proyecto</figcaption>
	</figure>
	</li>
	<li>
	<p>Elija la ubicación donde desea guardar su proyecto y créelo.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Save the project" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/workspace.png" />
	<figcaption class="bcls-caption--image">Guardar el proyecto</figcaption>
	</figure>
	</li>
	<li>Ahora cierre el proyecto (sí, ciérrelo, ¡esto es importante!)</li>
</ol>

<h3 id="dependencies">Agregue el SDK y sus dependencias a su proyecto</h3>

<p>La forma más fácil de agregar el SDK y sus dependencias a su proyecto es usar CocoaPods.</p>

<p>CocoaPods es un administrador de dependencias que agrega bibliotecas a su proyecto. No es necesario, pero facilita la instalación. Para instalar CocoaPods, consulte las instrucciones en el <a href="//cocoapods.org">CocoaPods</a> sitio.</p>

<aside class="bcls-aside bcls-aside--warning">
<ul>
	<li>Se requiere la versión 1.0 o posterior de CocoaPods.</li>
	<li>Usando CocoaPods (el <code translate="No">pod</code> herramienta) en un proyecto Xcode existente modificará el archivo del proyecto. Es posible que desee hacer una copia de seguridad antes de hacer esto.</li>
</ul>
</aside> <aside class="bcls-aside bcls-aside--tip">Para crear y actualizar fácilmente <code translate="No">Podfile</code> , puede realizar los siguientes pasos dentro del <a href="https://cocoapods.org/app">Aplicación CocoaPods</a>.</aside>

<ol class="bcls-tasklist">
	<li>
	<p>En la carpeta de su proyecto, cree un archivo de texto sin formato llamado <strong>Podfile</strong> (sin extensión de archivo).</p>
	</li>
	<li>
	<p>Con un editor de texto, agregue las siguientes líneas de código al Podfile y guárdelo. Este código hace lo siguiente:</p>

	<ul>
		<li>Línea 1: Define la fuente de GitHub.</li>
		<li>Línea 3: Configura los pods para que usen marcos en lugar de bibliotecas estáticas.</li>
		<li>Línea 5: Define la versión de la plataforma tvOS.</li>
		<li>
		<p>Líneas 7-9: Instale Brightcove Native Player SDK.</p>

		<ol>
			<li>Obtenga la versión actual del SDK nativo del <a href="/ios/basics/overview-brightcove-player-sdk-ios.html#Download_the_SDK">Descripción general del SDK nativo de Brightcove para iOS</a> documento.</li>
			<li>Reemplazar el valor <code translate="No"> '6.3.11'</code> con el número de versión actual del SDK.</li>
			<li>
			<p>Para obtener más información sobre la gestión de dependencias, consulte la <a href="https://cocoacasts.com/how-to-manage-dependencies-with-cocoapods/">Cómo administrar las dependencias con CocoaPods</a> artículo.</p>
			</li>
		</ol>
		</li>
	</ul>

	<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">source 'https://github.com/brightcove/BrightcoveSpecs.git'

use_frameworks!

platform :tvos, '11.0' # (or whatever version you want)

target 'Simple-Video-Playback' do
	pod 'Brightcove-Player-Core/dynamic', '6.3.11'
end</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Notas:
	<ul>
		<li>La <code translate="No">target</code> La propiedad se utiliza para CocoaPods versión 1.0 y posteriores.</li>
		<li>Debe apuntar al Brightcove Native SDK core v6.3 + para admitir los controles de la interfaz de usuario.</li>
	</ul>
	</aside>
	</li>
	<!--							<p class="text-warning">ReactiveCocoa will be added to your project as a part of the Brightcove SDK.</p>-->
	<li>
	<p>Abra una sesión de Terminal y navegue hasta su <strong>Reproducción de video simple</strong> Carpeta del proyecto Xcode.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Terminal session" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/ios/getting-started/quick-start/quick-start-terminal.png" />
	<figcaption class="bcls-caption--image">Sesión terminal</figcaption>
	</figure>
	</li>
	<li>
	<p>En la sesión de Terminal, escriba el comando</p>

	<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">pod install</code></pre>

	<p>y presione <strong>Regreso</strong> para ejecutarlo. Debería ver una serie de mensajes en el terminal que indican que Brightcove Player SDK se ha agregado a su proyecto.</p>
	</li>
	<li>
	<p><strong>Fíjate en la última línea</strong> , lo cual es importante: a partir de este momento, debe abrir el <em>Simple-Video-Playback.xcworkspace</em> archivo en Xcode, <strong>no</strong> los <em>Simple-Video-Playback.xcodeproj</em> expediente. La <code translate="No">pod install</code> comando crea esto <code translate="No">.xcworkspace</code> archivo para su proyecto.</p>
	</li>
</ol>

<aside class="bcls-aside bcls-aside--tip">Si no desea utilizar CocoaPods, puede <a href="https://github.com/brightcove/brightcove-player-sdk-ios/releases">descargar la última versión del SDK</a> y agréguelo manualmente a su proyecto.</aside>
</section>

<section class="bcls-section">
<h2 id="Code_the_video_app">Codificar la aplicación de video</h2>

<p>Cree el código para una aplicación de reproducción de video simple.</p>

<h3 id="appdelegate">Establecer el comportamiento de audio para la aplicación</h3>

<p>La sesión de audio maneja el comportamiento del audio a nivel de la aplicación. Más información sobre el <a href="https://developer.apple.com/documentation/avfoundation/avaudiosession">AVAudioSession</a> clase.</p>

<aside class="bcls-aside bcls-aside--tip">Puede elegir entre varias categorías y configuraciones de sesiones de audio para personalizar el comportamiento de audio de su aplicación. <a href="https://developer.apple.com/library/archive/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/AudioSessionCategoriesandModes/AudioSessionCategoriesandModes.html#//apple_ref/doc/uid/TP40007875-CH10">Elija la mejor categoría de sesión de audio</a> para tu aplicación.</aside>

<p>Para esta muestra, usaremos el <a href="https://developer.apple.com/documentation/avfoundation/avaudiosession/category/1616509-playback">reproducción</a> categoría. Esto reproduce audio incluso cuando la pantalla está bloqueada y con el interruptor de timbre / silencio en silencio. Ya que estamos reproduciendo video, usaremos el <a href="https://developer.apple.com/documentation/avfoundation/avaudiosession/mode/1616623-movieplayback">moviePlayback</a> modo. Para simplificar, colocaremos este código en el Delegado de la aplicación.</p>

<ol class="bcls-tasklist">
	<li>
	<p>En su proyecto, abra el archivo App Delegate (<strong>AppDelegate.swift</strong>).</p>
	</li>
	<li>
	<p>En el <code translate="No">didFinishLaunchingWithOptions</code> función, agregue código para configurar la categoría de la sesión de audio. Asegúrese de importar el <code translate="No">AVFoundation</code> marco de referencia.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">//
//  AppDelegate.swift
//  Simple-Video-Playback
//
//  Copyright © 2018 Brightcove. All rights reserved.
//

import UIKit
<span class="bcls-highlight">import AVFoundation</span>

@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {

  var window: UIWindow?

  func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -&gt; Bool {
    // Override point for customization after application launch.
<span class="bcls-highlight">        var categoryError :NSError?;
    var success: Bool;
    do {
      try AVAudioSession.sharedInstance().setCategory(.playback, mode: .moviePlayback, options: .duckOthers)
      success = true;
    } catch let error as NSError {
      categoryError = error;
      success = false;
    }

    if !success {
      print("AppDelegate Debug - Error setting AVAudioSession category.  Because of this, there may be no sound. \(categoryError!)");
    }</span>

    return true
  }

  func applicationWillResignActive(_ application: UIApplication) {
    // Sent when the application is about to move from active to inactive state. This can occur for certain types of temporary interruptions (such as an incoming phone call or SMS message) or when the user quits the application and it begins the transition to the background state.
    // Use this method to pause ongoing tasks, disable timers, and throttle down OpenGL ES frame rates. Games should use this method to pause the game.
  }

  func applicationDidEnterBackground(_ application: UIApplication) {
    // Use this method to release shared resources, save user data, invalidate timers, and store enough application state information to restore your application to its current state in case it is terminated later.
    // If your application supports background execution, this method is called instead of applicationWillTerminate: when the user quits.
  }

  func applicationWillEnterForeground(_ application: UIApplication) {
    // Called as part of the transition from the background to the active state; here you can undo many of the changes made on entering the background.
  }

  func applicationDidBecomeActive(_ application: UIApplication) {
    // Restart any tasks that were paused (or not yet started) while the application was inactive. If the application was previously in the background, optionally refresh the user interface.
  }

  func applicationWillTerminate(_ application: UIApplication) {
    // Called when the application is about to terminate. Save data if appropriate. See also applicationDidEnterBackground:.
  }

}</code></pre>
	</li>
</ol>

<h3>Construya el controlador de vista</h3>

<p class="video-cloud-only">Actualice la clase View Controller para reproducir un video desde Brightcove Playback API.</p>

<p class="player-only">Actualice la clase View Controller para reproducir un video desde una URL remota.</p>

<ol class="bcls-tasklist">
	<li>
	<p>En su proyecto, abra el archivo View Controller (<strong>ViewController.swift</strong>).</p>
	</li>
</ol>

<div class="video-cloud-only">
<h4>Importar el SDK nativo</h4>

<p>Aunque Brightcove Native Player SDK para iOS está escrito en Obj-C, podemos simplemente importar los módulos del marco a nuestro proyecto Swift.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Debajo de lo existente <code translate="No">import</code> directiva, agregue lo siguiente para importar el SDK del reproductor nativo de Brightcove:</p>

	<pre class="line-numbers" data-start="9">
<code class="language-swift" translate="No">import BrightcovePlayerSDK</code></pre>
	</li>
</ol>

<h4>Personaliza el proyecto con tus valores</h4>

<p>Agregue valores para acceder a su cuenta de Video Cloud.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Bajo la <code translate="No">import</code> directivas, agregue sus propios valores para lo siguiente:</p>

	<ul>
		<li>
		<p>Línea 12: Define la clave de política de la API de reproducción de Brightcove. Este ejemplo reproduce un video devuelto por <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">API de reproducción de Brightcove</a> , que es la API más reciente y recomendada para recuperar contenido de su biblioteca de Video Cloud. Si no está familiarizado con las claves de política, consulte la <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Descripción general de la API de políticas</a>.</p>
		</li>
		<li>Línea 13: Define su ID de cuenta de Video Cloud</li>
		<li>
		<p>Línea 14: Define su ID de video de Video Cloud</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="11">
<code class="language-swift" translate="No">fileprivate struct playbackConfig {
  static let policyKey = "<span class="bcls-input">your policy key</span>"
  static let accountID = "<span class="bcls-input">your account id</span>"
  static let videoID = "<span class="bcls-input">your video id</span>"
}</code></pre>
	</li>
</ol>

<h4>Crear una variable de vista</h4>

<ol class="bcls-tasklist">
	<li>
	<p>En el <code translate="No">ViewController</code> class, agregue una variable para la vista.</p>

	<pre class="line-numbers" data-start="17">
<code class="language-swift" translate="No">class ViewController: UIViewController {
  @IBOutlet weak var videoContainerView: UIView!</code></pre>
	</li>
</ol>

<h4>Crea el servicio de reproducción</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree una variable que defina el servicio de reproducción de Brightcove con su ID de cuenta y Clave de política. Esto se inicializará la primera vez que se llame.</p>

	<p>Si es nuevo en Swift, consulte la guía sobre <a href="https://docs.swift.org/swift-book/LanguageGuide/Properties.html">Propiedades almacenadas perezosas</a>.</p>

	<pre class="line-numbers" data-start="20">
<code class="language-swift" translate="No">lazy var playbackService: BCOVPlaybackService = {
  return BCOVPlaybackService(accountId: playbackConfig.accountID, policyKey: playbackConfig.policyKey)
}()</code></pre>
	</li>
</ol>

<h4>Crea el controlador de reproducción</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree una variable que defina el controlador de reproducción de Brightcove. Esto se creará la primera vez que se llame.</p>

	<ul>
		<li>
		<p>Líneas 28-30: configure el delegado y active las funciones de avance automático y reproducción automática.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="24">
<code class="language-swift" translate="No">lazy var playbackController: BCOVPlaybackController? = {
  guard let _playbackController = BCOVPlayerSDKManager.shared().createPlaybackController() else {
    return nil
  }
  _playbackController.delegate = self
  _playbackController.isAutoAdvance = true
  _playbackController.isAutoPlay = true

  return _playbackController
}()</code></pre>
	</li>
</ol>

<h4>Definir la vista del jugador</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Crea una función llamada <code translate="No">createTVPlayerView</code> como sigue:</p>

	<ul>
		<li>Líneas 38-39: Defina la vista del jugador para que los paneles de la barra de pestañas puedan presentar otros controladores de vista.</li>
		<li>Líneas 42-44: Cree la vista del reproductor y agréguela a la vista del contenedor de video.</li>
		<li>Línea 47: Asocie la vista del reproductor con el controlador de reproducción.</li>
		<li>Línea 49: Agrega la vista del reproductor como una subvista de la vista principal.</li>
		<li>Línea 51: Apagar <a href="https://developer.apple.com/documentation/appkit/nsview/1526961-translatesautoresizingmaskintoco">máscara de cambio de tamaño automático</a>.</li>
		<li>
		<p>Líneas 52-57: Usar <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/index.html">Diseño automático</a> para definir restricciones dinámicas para la vista del jugador.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="35">
<code class="language-swift" translate="No">lazy var playerView: BCOVTVPlayerView? = {
  // Set yourself as the presenting view controller
  // so that tab bar panels can present other view controllers
  let options = BCOVTVPlayerViewOptions()
  options.presentingViewController = self

  // Create and add to the video container view
  guard let _playerView = BCOVTVPlayerView(options: options) else {
    return nil
  }

  // Link the playback controller to the Player View
  _playerView.playbackController = playbackController

  videoContainerView.addSubview(_playerView)

  _playerView.translatesAutoresizingMaskIntoConstraints = false
  NSLayoutConstraint.activate([
    _playerView.topAnchor.constraint(equalTo: videoContainerView.topAnchor),
    _playerView.rightAnchor.constraint(equalTo: videoContainerView.rightAnchor),
    _playerView.leftAnchor.constraint(equalTo: videoContainerView.leftAnchor),
    _playerView.bottomAnchor.constraint(equalTo: videoContainerView.bottomAnchor)
  ])

  return _playerView
}()</code></pre>
	</li>
</ol>

<h4>Crea una función de inicio</h4>

<ol class="bcls-tasklist">
	<li>Crear un <code translate="No">init</code>funcionan de la siguiente manera:

	<ul>
		<li>Línea 64: Llama a la implementación de superclase de la función init ().</li>
		<li>
		<p>Línea 65: <strong>Opcional:</strong> Envía su ID de cuenta de Video Cloud a análisis. Esto solo es necesario si anula la <code translate="No">BCOVVideo</code> clase o no utilice el servicio o catálogo de Brightcove Playback.</p>

		<aside class="bcls-aside bcls-aside--tip">Para obtener detalles sobre el envío de datos a Video Cloud Analytics, consulte la <a href="/features/viewing-brightcove-analytics-player-sdks.html">Uso de Brightcove Analytics</a> guía.</aside>
		</li>
	</ul>

	<pre class="line-numbers" data-start="62">
<code class="language-swift" translate="No">required init?(coder aDecoder: NSCoder)
{
  super.init(coder: aDecoder)
  playbackController?.analytics.account = playbackConfig.accountID;
}</code></pre>
	</li>
</ol>

<h4>Proceso después de cargar la vista</h4>

<ol class="bcls-tasklist">
	<li>
	<p>En el <code translate="No">viewDidLoad</code> método agregue lo siguiente:</p>

	<ul>
		<li>
		<p>Línea 72: Llama al <code translate="No">requestContentFromPlaybackService</code> función, que definiremos en el siguiente paso.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="68">
<code class="language-swift" translate="No">override func viewDidLoad() {
  super.viewDidLoad()
  // Do any additional setup after loading the view, typically from a nib.

  requestContentFromPlaybackService()
}</code></pre>
	</li>
</ol>

<h4>Solicitar contenido de la biblioteca de Brightcove</h4>

<p>Para reproducir contenido de video, solicitará una lista de reproducción al servicio de catálogo.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Crea una función llamada <code translate="No">requestContentFromPlaybackService</code> como sigue:</p>

	<ul>
		<li>Líneas 75-76: devuelve un objeto de video de la API de reproducción según la identificación de video dada.</li>
		<li>Línea 80: agrega el video al controlador de reproducción.</li>
		<li>Línea 82: escribe un mensaje de error si no se devuelve una lista de reproducción.</li>
	</ul>

	<pre class="line-numbers" data-start="75">
<code class="language-swift" translate="No">private func requestContentFromPlaybackService() {
  playbackService.findVideo(withVideoID: playbackConfig.videoID, parameters: nil) { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in

    if let _video = video {
      //  since "isAutoPlay" is true, setVideos will begin playing the content
      self?.playbackController?.setVideos([_video] as NSArray)
    } else {
      print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
    }
  }
}</code></pre>
	</li>
</ol>

<h4>Extienda el controlador de reproducción</h4>

<p>Esto permite que su aplicación escuche y responda a eventos de reproducción de video.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Extienda el controlador de vista para incluir el delegado del controlador de reproducción de Brightcove y escuche los eventos de reproducción. Si es nuevo en Swift, consulte la guía sobre <a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html">Extensiones</a>.</p>

	<pre class="line-numbers" data-start="88">
<code class="language-swift" translate="No">// MARK: - BCOVPlaybackControllerDelegate
extension ViewController: BCOVPlaybackControllerDelegate {

  func playbackController(_ controller: BCOVPlaybackController!, didAdvanceTo session: BCOVPlaybackSession!) {
    NSLog("ViewController Debug - Advanced to new session.")
  }

  func playbackController(_ controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceive lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog("Event: %@", lifecycleEvent.eventType)
  }
}</code></pre>
	</li>
</ol>

<h4>El resto</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree funciones para manejar anulaciones de enfoque para versiones anteriores de tvOS.</p>

	<pre class="line-numbers" data-start="100">
<code class="language-swift" translate="No">// MARK: - UIFocusEnvironment overrides
extension ViewController {

  // Focus Environment override for tvOS 9
  override var preferredFocusedView: UIView? {
      return playerView
  }

  // Focus Environment override for tvOS 10+
  override var preferredFocusEnvironments: [UIFocusEnvironment] {
      return (playerView != nil ? [ playerView! ] : [])
  }
}</code></pre>
	</li>
</ol>

<h4 id="viewController">Ver el código</h4>

<p>El controlador de vista ahora está completo. Aquí está el código completo:</p>

<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">//
//  ViewController.swift
//  Simple-Video-Playback
//
//  Copyright © 2018 Brightcove. All rights reserved.
//

import UIKit
import BrightcovePlayerSDK

fileprivate struct playbackConfig {
  static let policyKey = "<span class="bcls-input">your policy key</span>"
  static let accountID = "<span class="bcls-input">your account id</span>"
  static let videoID = "<span class="bcls-input">your video id</span>"
}

class ViewController: UIViewController {
  @IBOutlet weak var videoContainerView: UIView!

  lazy var playbackService: BCOVPlaybackService = {
      return BCOVPlaybackService(accountId: playbackConfig.accountID, policyKey: playbackConfig.policyKey)
  }()

  lazy var playbackController: BCOVPlaybackController? = {
      guard let _playbackController = BCOVPlayerSDKManager.shared().createPlaybackController() else {
        return nil
      }
      _playbackController.delegate = self
      _playbackController.isAutoAdvance = true
      _playbackController.isAutoPlay = true

      return _playbackController
  }()

  lazy var playerView: BCOVTVPlayerView? = {
    // Set yourself as the presenting view controller
    // so that tab bar panels can present other view controllers
    let options = BCOVTVPlayerViewOptions()
    options.presentingViewController = self

    // Create and add to the video container view
    guard let _playerView = BCOVTVPlayerView(options: options) else {
      return nil
    }

    // Link the playback controller to the Player View
    _playerView.playbackController = playbackController

    videoContainerView.addSubview(_playerView)

    _playerView.translatesAutoresizingMaskIntoConstraints = false
    NSLayoutConstraint.activate([
      _playerView.topAnchor.constraint(equalTo: videoContainerView.topAnchor),
      _playerView.rightAnchor.constraint(equalTo: videoContainerView.rightAnchor),
      _playerView.leftAnchor.constraint(equalTo: videoContainerView.leftAnchor),
      _playerView.bottomAnchor.constraint(equalTo: videoContainerView.bottomAnchor)
    ])

    return _playerView
  }()

  required init?(coder aDecoder: NSCoder)
  {
    super.init(coder: aDecoder)
    playbackController?.analytics.account = playbackConfig.accountID; // Optional
  }

  override func viewDidLoad() {
    super.viewDidLoad()
    // Do any additional setup after loading the view, typically from a nib.

    requestContentFromPlaybackService()
  }

  private func requestContentFromPlaybackService() {
    playbackService.findVideo(withVideoID: playbackConfig.videoID, parameters: nil) { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in

      if let _video = video {
        //  since "isAutoPlay" is true, setVideos will begin playing the content
        self?.playbackController?.setVideos([_video] as NSArray)
      } else {
        print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
      }
    }
  }
}

// MARK: - BCOVPlaybackControllerDelegate
extension ViewController: BCOVPlaybackControllerDelegate {

  func playbackController(_ controller: BCOVPlaybackController!, didAdvanceTo session: BCOVPlaybackSession!) {
    NSLog("ViewController Debug - Advanced to new session.")
  }

  func playbackController(_ controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceive lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog("Event: %@", lifecycleEvent.eventType)
  }
}

// MARK: - UIFocusEnvironment overrides
extension ViewController {

  // Focus Environment override for tvOS 9
  override var preferredFocusedView: UIView? {
    return playerView
  }

  // Focus Environment override for tvOS 10+
  override var preferredFocusEnvironments: [UIFocusEnvironment] {
    return (playerView != nil ? [ playerView! ] : [])
  }
}</code></pre>
</div>
<!--end class="video-cloud-only"--><!--begin class="player-only"-->

<div class="player-only">
<h4>Importar el SDK nativo</h4>

<p>Aunque Brightcove Native Player SDK para iOS está escrito en Obj-C, podemos simplemente importar los módulos del marco a nuestro proyecto Swift.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Debajo de lo existente <code translate="No">import</code> directiva, agregue lo siguiente para importar el SDK del reproductor nativo de Brightcove:</p>

	<pre class="line-numbers" data-start="9">
<code class="language-swift" translate="No">import BrightcovePlayerSDK</code></pre>
	</li>
</ol>

<h4>Personaliza el proyecto con tus valores</h4>

<p>Agregue el valor de su ID de cuenta de Video Cloud.</p>

<pre class="line-numbers" data-start="11">
<code class="language-swift" translate="No">fileprivate struct playbackConfig {
    static let accountID = "<span class="bcls-input">your account id</span>"
}</code></pre>

<ol class="bcls-tasklist">
</ol>

<h4>Crear una variable de vista</h4>

<ol class="bcls-tasklist">
	<li>
	<p>En el <code translate="No">ViewController</code> class, agregue una variable para la vista.</p>

	<pre class="line-numbers" data-start="15">
<code class="language-swift" translate="No">class ViewController: UIViewController {
  @IBOutlet weak var videoContainerView: UIView!</code></pre>
	</li>
</ol>

<h4>Crea el controlador de reproducción</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree una variable que defina el controlador de reproducción de Brightcove. Esto se creará la primera vez que se llame.</p>

	<ul>
		<li>
		<p>Líneas 22-24: configure el delegado y active las funciones de avance automático y reproducción automática.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="18">
<code class="language-swift" translate="No">lazy var playbackController: BCOVPlaybackController? = {
  guard let _playbackController = BCOVPlayerSDKManager.shared().createPlaybackController() else {
    return nil
  }
  _playbackController.delegate = self
  _playbackController.isAutoAdvance = true
  _playbackController.isAutoPlay = true

  return _playbackController
}()</code></pre>
	</li>
</ol>

<h4>Definir la vista del jugador</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Crea el <code translate="No">playerView</code> como sigue:</p>

	<ul>
		<li>Líneas 32-33: Defina la vista del jugador para que los paneles de la barra de pestañas puedan presentar otros controladores de vista.</li>
		<li>Líneas 36-38: Cree la vista del reproductor y agréguela a la vista del contenedor de video.</li>
		<li>Línea 41: Asocie la vista del reproductor con el controlador de reproducción.</li>
		<li>Línea 43: Agrega la vista del reproductor como una subvista de la vista principal.</li>
		<li>Línea 45: Apagar <a href="https://developer.apple.com/documentation/appkit/nsview/1526961-translatesautoresizingmaskintoco">máscara de cambio de tamaño automático</a>.</li>
		<li>
		<p>Líneas 46-51: Usar <a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/index.html">Diseño automático</a> para definir restricciones dinámicas para la vista del jugador.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="29">
<code class="language-swift" translate="No">lazy var playerView: BCOVTVPlayerView? = {
  // Set yourself as the presenting view controller
  // so that tab bar panels can present other view controllers
  let options = BCOVTVPlayerViewOptions()
  options.presentingViewController = self

  // Create and add to the video container view
  guard let _playerView = BCOVTVPlayerView(options: options) else {
    return nil
  }

  // Link the playback controller to the Player View
  _playerView.playbackController = playbackController

  videoContainerView.addSubview(_playerView)

  _playerView.translatesAutoresizingMaskIntoConstraints = false
  NSLayoutConstraint.activate([
    _playerView.topAnchor.constraint(equalTo: videoContainerView.topAnchor),
    _playerView.rightAnchor.constraint(equalTo: videoContainerView.rightAnchor),
    _playerView.leftAnchor.constraint(equalTo: videoContainerView.leftAnchor),
    _playerView.bottomAnchor.constraint(equalTo: videoContainerView.bottomAnchor)
  ])

  return _playerView
}()</code></pre>
	</li>
</ol>

<h4>Crea una función de inicio</h4>

<ol class="bcls-tasklist">
	<li>Crear un <code translate="No">init</code>funcionan de la siguiente manera:

	<ul>
		<li>Línea 58: Llama a la implementación de superclase de la función init ().</li>
		<li>
		<p>Línea 59: Envía su ID de cuenta de Video Cloud a análisis. Esto registra su aplicación con Brightcove.</p>

		<aside class="bcls-aside bcls-aside--tip">Para obtener detalles sobre el envío de datos a Video Cloud Analytics, consulte la <a href="/features/viewing-brightcove-analytics-player-sdks.html">Uso de Brightcove Analytics</a> guía.</aside>
		</li>
	</ul>

	<pre class="line-numbers" data-start="56">
<code class="language-swift" translate="No">required init?(coder aDecoder: NSCoder)
{
  super.init(coder: aDecoder)
  playbackController?.analytics.account = playbackConfig.accountID;
}</code></pre>
	</li>
</ol>

<h4>Reproducir videos</h4>

<ol class="bcls-tasklist">
	<li>
	<p>En el <code translate="No">viewDidLoad</code> método agregue lo siguiente:</p>

	<ul>
		<li>Líneas 67-69: Cree una variedad de fuentes de video utilizando rutas de URL.</li>
		<li>
		<p>Línea 71: agrega la matriz de video a la cola de reproducción del controlador, que está configurada para comenzar a reproducir automáticamente.</p>
		</li>
	</ul>

	<pre class="line-numbers" data-start="62">
<code class="language-swift" translate="No">override func viewDidLoad() {
  super.viewDidLoad()
  // Do any additional setup after loading the view, typically from a nib.

  // create an array of videos
  var videoArray = [AnyObject]()
  videoArray = [videoWithURL(url: NSURL(string: "https://learning-services-media.brightcove.com/videos/hls/laughing_gull/laughing_gull.m3u8")!),
                videoWithURL(url: NSURL(string: "https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8")!)]

  playbackController?.setVideos(videoArray as NSFastEnumeration);
}</code></pre>
	</li>
</ol>

<h4>Establecer el método de entrega para las fuentes de video</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree una función que establezca el método de entrega para <code translate="No">BCOVSources</code> que pertenecen a un video.</p>

	<pre class="line-numbers" data-start="74">
<code class="language-swift" translate="No">func videoWithURL(url: NSURL) -&gt; BCOVVideo {
    // set the delivery method for BCOVSources that belong to a video
    let source:BCOVSource = BCOVSource(url: url as URL?, deliveryMethod: kBCOVSourceDeliveryHLS, properties: nil)
    let video = BCOVVideo.init(source: source, cuePoints: BCOVCuePointCollection.init(array: []), properties: [NSObject:AnyObject]())
    return video!
}</code></pre>
	</li>
</ol>

<h4>Extienda el controlador de reproducción</h4>

<p>Esto permite que su aplicación escuche y responda a eventos de reproducción de video.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Extienda el controlador de vista para incluir el delegado del controlador de reproducción de Brightcove y escuche los eventos de reproducción. Si es nuevo en Swift, consulte la guía sobre <a href="https://docs.swift.org/swift-book/LanguageGuide/Extensions.html">Extensiones</a>.</p>

	<pre class="line-numbers" data-start="82">
<code class="language-swift" translate="No">// MARK: - BCOVPlaybackControllerDelegate
extension ViewController: BCOVPlaybackControllerDelegate {

  func playbackController(_ controller: BCOVPlaybackController!, didAdvanceTo session: BCOVPlaybackSession!) {
    NSLog("ViewController Debug - Advanced to new session.")
  }

  func playbackController(_ controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceive lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog("Event: %@", lifecycleEvent.eventType)
  }
}</code></pre>
	</li>
</ol>

<h4>El resto</h4>

<ol class="bcls-tasklist">
	<li>
	<p>Cree funciones para manejar anulaciones de enfoque para versiones anteriores de tvOS.</p>

	<pre class="line-numbers" data-start="94">
<code class="language-swift" translate="No">// MARK: - UIFocusEnvironment overrides
extension ViewController {

  // Focus Environment override for tvOS 9
  override var preferredFocusedView: UIView? {
      return playerView
  }

  // Focus Environment override for tvOS 10+
  override var preferredFocusEnvironments: [UIFocusEnvironment] {
      return (playerView != nil ? [ playerView! ] : [])
  }
}</code></pre>
	</li>
</ol>

<h4 id="viewControllerPerform">Ver el código</h4>

<p>El controlador de vista ahora está completo. Aquí está el código completo:</p>

<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">//
//  ViewController.swift
//  Simple-Video-Playback
//
//  Copyright © 2018 Brightcove. All rights reserved.
//

import UIKit
import BrightcovePlayerSDK

fileprivate struct playbackConfig {
  static let accountID = "1752604059001"
}

class ViewController: UIViewController {
  @IBOutlet weak var videoContainerView: UIView!

  lazy var playbackController: BCOVPlaybackController? = {
    guard let _playbackController = BCOVPlayerSDKManager.shared().createPlaybackController() else {
      return nil
    }
    _playbackController.delegate = self
    _playbackController.isAutoAdvance = true
    _playbackController.isAutoPlay = true

    return _playbackController
  }()

  lazy var playerView: BCOVTVPlayerView? = {
    // Set yourself as the presenting view controller
    // so that tab bar panels can present other view controllers
    let options = BCOVTVPlayerViewOptions()
    options.presentingViewController = self

    // Create and add to the video container view
    guard let _playerView = BCOVTVPlayerView(options: options) else {
      return nil
    }

    // Link the playback controller to the Player View
    _playerView.playbackController = playbackController

    videoContainerView.addSubview(_playerView)

    _playerView.translatesAutoresizingMaskIntoConstraints = false
    NSLayoutConstraint.activate([
      _playerView.topAnchor.constraint(equalTo: videoContainerView.topAnchor),
      _playerView.rightAnchor.constraint(equalTo: videoContainerView.rightAnchor),
      _playerView.leftAnchor.constraint(equalTo: videoContainerView.leftAnchor),
      _playerView.bottomAnchor.constraint(equalTo: videoContainerView.bottomAnchor)
    ])

    return _playerView
  }()

  required init?(coder aDecoder: NSCoder)
  {
    super.init(coder: aDecoder)
    playbackController?.analytics.account = playbackConfig.accountID;
  }

  override func viewDidLoad() {
    super.viewDidLoad()
    // Do any additional setup after loading the view, typically from a nib.

    // create an array of videos
    var videoArray = [AnyObject]()
    videoArray = [videoWithURL(url: NSURL(string: "https://learning-services-media.brightcove.com/videos/hls/laughing_gull/laughing_gull.m3u8")!),
        videoWithURL(url: NSURL(string: "https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8")!)]

    playbackController?.setVideos(videoArray as NSFastEnumeration);
  }

  func videoWithURL(url: NSURL) -&gt; BCOVVideo {
    // set the delivery method for BCOVSources that belong to a video
    let source:BCOVSource = BCOVSource(url: url as URL?, deliveryMethod: kBCOVSourceDeliveryHLS, properties: nil)
    let video = BCOVVideo.init(source: source, cuePoints: BCOVCuePointCollection.init(array: []), properties: [NSObject:AnyObject]())
    return video!
  }
}

// MARK: - BCOVPlaybackControllerDelegate
extension ViewController: BCOVPlaybackControllerDelegate {

  func playbackController(_ controller: BCOVPlaybackController!, didAdvanceTo session: BCOVPlaybackSession!) {
    NSLog("ViewController Debug - Advanced to new session.")
  }

  func playbackController(_ controller: BCOVPlaybackController!, playbackSession session: BCOVPlaybackSession!, didReceive lifecycleEvent: BCOVPlaybackSessionLifecycleEvent!) {
    NSLog("Event: %@", lifecycleEvent.eventType)
  }
}

// MARK: - UIFocusEnvironment overrides
extension ViewController {

  // Focus Environment override for tvOS 9
  override var preferredFocusedView: UIView? {
    return playerView
  }

  // Focus Environment override for tvOS 10+
  override var preferredFocusEnvironments: [UIFocusEnvironment] {
    return (playerView != nil ? [ playerView! ] : [])
  }
}</code></pre>
</div>
<!--class="player-only"--></section>
<!--id="Code_the_video_app"-->

<section class="bcls-section" id="&gt;Connect_the_storyboard_view">
<h2>Conectar la vista del guión gráfico</h2>

<p>Conecta el <code translate="No">Main.storyboard</code> ver con el <code translate="No">videoContainer</code> propiedad.</p>

<ol class="bcls-tasklist">
	<li>
	<p>En el Xcode, abra el <code translate="No">Main.storyboard</code> expediente.</p>
	</li>
	<li>
	<p>En la vista complementaria, expanda el <strong>Ver escena del controlador</strong> y luego el <strong>Ver controlador</strong> menú para exponer el <strong>Vista</strong> objeto.</p>

	<figure class="bcls-figure"><img class="bcls-image" alt="Storyboard view" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/storyboard-view.png" />
	<figcaption class="bcls-caption--image">Vista de guión gráfico</figcaption>
	</figure>
	</li>
	<li>
	<p>Muestre el asistente de edición y abra el <code translate="No">ViewController.swift</code> expediente.</p>

	<figure class="bcls-figure"><img class="bcls-image" alt="Assistant editor" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/assistant-editor.png" />
	<figcaption class="bcls-caption--image">Editor asistente</figcaption>
	</figure>
	</li>
	<li>
	<p>Seleccione el círculo abierto junto al <code translate="No">@IBOutlet</code> Para el <code translate="No">videoContainerView</code> y arrástrelo al <strong>Vista</strong> objeto para conectar estos componentes.</p>

	<figure class="bcls-figure"><img class="bcls-image" alt="Connect the view" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/connect-view.png" />
	<figcaption class="bcls-caption--image">Conecta la vista</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Manage_Media_Security">Gestionar la seguridad de los medios</h2>

<p>App Transport Security (ATS) aplica conexiones seguras entre su aplicación y los servicios web. Con el lanzamiento de Apple del SDK de iOS 9, una nueva función llamada <a href="https://developer.apple.com/library/prerelease/ios/technotes/App-Transport-Security-Technote/">Seguridad de transporte de aplicaciones (ATS)</a> fue añadido.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Una de las siguientes situaciones se aplicará a su aplicación:</p>

	<ul>
		<li>
		<p>De forma predeterminada, Brightcove Native SDK para iOS utiliza una política de selección de fuente para elegir HTTPS sobre fuentes HTTP, por lo que puede crear sus aplicaciones con ATS habilitado.</p>

		<p>Eso es todo, está listo para ejecutar su aplicación.</p>
		</li>
		<br />
		<li>
		<p>Si está utilizando fuentes HTTP o tiene otras llamadas HTTP en su aplicación, puede encontrar el siguiente mensaje de error:</p>

		<pre class="line-numbers" data-start="1">
<code class="language-swift" translate="No">App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure.
Temporary exceptions can be configured via your app's Info.plist file.</code></pre>

		<p>Esto significa que ATS está habilitado, pero su sistema no está configurado para cumplir con los requisitos de ATS. Para solucionar esta situación, consulte la <a href="/ios/framework/working-app-transport-security-ats.html">Trabajar con App Transport Security (ATS)</a> documento.</p>
		</li>
	</ul>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Run_the_app">Ejecutar la aplicación</h2>

<div>
<p>La aplicación está lista para compilarse y ejecutarse en un Apple TV o en Xcode Simulator. Debería poder reproducir y navegar por el video especificado usando el control remoto.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Apple TV sample" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/tvos/getting-started/quick-start-swift/apple-tv.png" />
<figcaption class="bcls-caption--image">Muestra de Apple TV</figcaption>
</figure>
</div>
</section>

<section class="bcls-section">
<h2 id="Run_the_app">Controles de la interfaz de usuario de Apple TV</h2>

<p>Ahora, está listo para obtener más información sobre los controles de reproducción de Apple TV, incluida la vista de la barra superior para información de video, subtítulos y audio. Para obtener más información, consulte el <a href="/tvos/playback/apple-tv-ui-controls-native-sdk-tvos.html">Controles de la interfaz de usuario de Apple TV con el SDK nativo para tvOS</a> documento.</p>

<p>Para obtener detalles sobre cómo crear su propia vista de elementos de la barra superior personalizada, consulte la <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Player/AppleTV/swift">Ejemplo de reproductor de Apple TV</a>.</p>
</section>
</article>