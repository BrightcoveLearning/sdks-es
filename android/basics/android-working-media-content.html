---
title: 'Androide: Trabajar con contenido multimedia'
description: En este tema, aprenderá cómo recuperar y reproducir sus videos usando el SDK nativo para Android.
parent: Basics 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p>Los clientes de Video Cloud tienen acceso a sus metadatos y datos multimedia desde Video Cloud Studio. Los clientes de Brightcove Player proporcionarán la URL de su contenido multimedia.</p>
</section>

<section class="bcls-section">
<h2 id="Video_Cloud_customers">Clientes de Video Cloud</h2>

<p>Como cliente de Video Cloud, puede acceder a sus datos multimedia almacenados en Video Cloud Studio. Para obtener más información, consulte el <a href="https://github.com/BrightcoveOS/android-player-samples">Reproductor SDK para ejemplos de código de Android</a>.</p>

<h3>Recuperando datos de medios</h3>

<p>Puede recuperar los datos de su video y lista de reproducción de su biblioteca de Video Cloud utilizando la API de reproducción. Para obtener detalles sobre la API, consulte la <a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html">Descripción general de la API de reproducción</a> documento.</p>

<ol class="bcls-tasklist">
	<li>
	<p>Utilizar el <a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">com.brightcove.player.edge.Catalog</a> métodos de clase para recuperar sus videos y listas de reproducción de la API de reproducción de Brightcove. Sus solicitudes pueden proporcionar el video / lista de reproducción <code translate="No">ID</code> o <code translate="No">ReferenceID</code>. Este servicio realizará las solicitudes de URL y analizará los datos devueltos.</p>

	<aside class="bcls-aside bcls-aside--information">Si incluye caracteres especiales con un <code translate="No">ReferenceID</code> , debe codificarlo con URI antes de realizar una solicitud de catálogo.</aside>
	</li>
	<li>
	<p>Para esta solicitud, necesitará una clave de política. Si no está familiarizado con las claves de política, consulte la <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Descripción general de la API de políticas</a> documento.</p>

	<aside class="bcls-aside bcls-aside--information">Debido a que los SDK nativos no envían un encabezado de origen, no puede usar una clave de política restringida por dominio. Si prueba esto, obtendrá un <code translate="No">403 Forbidden</code> respuesta cuando intenta obtener contenido de su biblioteca de Video Cloud.</aside>

	<p>A continuación, se muestra un ejemplo de cómo recuperar un video usando el <code translate="No">com.brightcove.player.edge.Catalog</code> clase:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">package com.brightcove.player.samples.exoplayer.basic;
import android.os.Bundle;
import android.util.Log;
import com.brightcove.player.edge.Catalog;
import com.brightcove.player.edge.VideoListener;
import com.brightcove.player.event.EventEmitter;
import com.brightcove.player.model.Video;
import com.brightcove.player.view.BrightcoveExoPlayerVideoView;
import com.brightcove.player.view.BrightcovePlayer;
/**
* This app illustrates how to use the ExoPlayer with the Brightcove
* Native Player SDK for Android.
*/
public class MainActivity extends BrightcovePlayer {
	private final String TAG = this.getClass().getSimpleName();
	@Override

	protected void onCreate(Bundle savedInstanceState) {
		setContentView(R.layout.activity_main);
		brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
		super.onCreate(savedInstanceState);

		// Get the event emitter from the SDK and create a catalog request to fetch a video from the
		// Brightcove Edge service, given a video id, an account id and a policy key.
		EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();
		Catalog catalog = new Catalog(eventEmitter, getString(R.string.account), getString(R.string.policy));

		catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
		  // Add the video found to the queue with add().
		  // Start playback of the video with start().
		  @Override
		  public void onVideo(Video video) {
		    Log.v(TAG, "onVideo: video = " + video);
		    brightcoveVideoView.add(video);
		    brightcoveVideoView.start();
		  }
		});
	}
}</code></pre>
	</li>
</ol>

<ol class="bcls-tasklist">
	<li>La <a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Objeto de video</a> proporciona métodos para recuperar información multimedia como se muestra a continuación:

	<pre class="line-numbers">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
  // Add the video found to the queue with add().
  // Start playback of the video with start().
  @
  Override
  public void onVideo(Video video) {
<span class="bcls-highlight">    Log.v(TAG, "onVideo: video = " + video);
    Log.v(TAG, "onVideo: videoID = " + video.getId());
    Log.v(TAG, "onVideo: videoName = " + video.getName());
    Log.v(TAG, "onVideo: videoDescription = " + video.getDescription());
    Log.v(TAG, "onVideo: videoImage = " + video.getStillImageUri());
    Log.v(TAG, "onVideo: sourceCollections = " + video.getSourceCollections());
    SourceCollection dashCollection = video.getSourceCollections().get(DeliveryType.DASH);
    if (dashCollection != null) {
      Set &lt; Source &gt; sources = dashCollection.getSources();
      for (Source source: sources) {
        if (!TextUtils.isEmpty(source.getUrl())) {
          Log.v(TAG, "onVideo: DASH source = " + source.getUrl());
        }
      }
    }</span>

    brightcoveVideoView.add(video);
    brightcoveVideoView.start();
  }
});</code></pre>

	<p>Lo anterior <code translate="No">Log()</code> Los métodos devuelven la siguiente información multimedia:</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Video object" src="/assets/images/android/basics/video-object.png" />
	<figcaption class="bcls-caption--image">Objeto de video</figcaption>
	</figure>
	</li>
  <li>
    <p>
      Es posible que desee ver los campos personalizados, si los hay, para el <code translate="No">Video</code> objeto. Agregue el siguiente código al <code translate="No">onVideo</code> método de devolución de llamada para recorrer el <code translate="No">customField</code> mapa.
    </p>
    <pre class="line-numbers">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
   @
   Override
   public void onVideo(Video video) {
     <span class="bcls-highlight"> Map&lt;String, String&gt; customFieldMap = (HashMap&lt;String, String&gt;) video.getProperties().get(Video.Fields.CUSTOM_FIELDS);
     if (customFieldMap != null &amp;&amp; customFieldMap.size() &gt; 0) {
       for (Map.Entry&lt;String, String&gt; entry : customFieldMap.entrySet()) {
         Log.v(TAG, &quot;onVideo: Custom fields: Key: &quot; + entry.getKey() + &quot; Value: &quot; + entry.getValue());
       }
     }</span>
     brightcoveVideoView.add(video);
     brightcoveVideoView.start();
  }
});</code></pre>
<p>
  Aquí hay un ejemplo del resultado registrado que puede ver en el código anterior:
</p>
<pre class="line-numbers">
<code class="language-java" translate="No">MainActivity: onVideo: Custom fields: Key: genre Value: Action
MainActivity: onVideo: Custom fields: Key: customlist Value: customListValue1</code></pre>
<p>
  Tenga en cuenta que los campos personalizados se pueden representar como <code translate="No">Strings</code> o <code translate="No">Lists</code>. Aunque un campo personalizado puede ser un <code translate="No">List</code> tipo, es una lista de <code translate="No">String</code> valores de los que se elige un valor para establecer el valor del campo.
</p>
  </li>
</ol>

<h3>Vídeos filtrados geográficamente</h3>

<p>Brightcove Player SDK para Android admite videos filtrados geográficamente.</p>

<aside class="bcls-aside bcls-aside--warning">Notas:
<ul>
	<li>Debe utilizar la API de reproducción cuando trabaje con videos filtrados geográficamente.</li>
	<li>El servicio de reproducción solo devolverá un error si su video está filtrado geográficamente en Video Cloud. El error será nulo si su video tiene un filtrado geográfico a nivel de CDN.</li>
</ul>
</aside>

<p>Hay dos formas en las que puede agregar filtrado geográfico a sus videos para controlar en qué países se pueden (o no) ver:</p>

<ul>
	<li><a href="https://apis.support.brightcove.com/cms/getting-started/overview-cms-api.html">API CMS de Brightcove</a></li>
	<li><a href="https://studio.support.brightcove.com/media/configuring-video-availability.html#geofilter">Módulo multimedia de Video Cloud Studio</a></li>
</ul>

<p>En su aplicación de Android, cuando recupera un video usando el borde de Brightcove <a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">Catalogar</a> objeto (API de reproducción) en un país que está filtrado geográficamente para ese video, debería ver este mensaje:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">error { message: Access to this resource is forbidden by access policy.
client_geo: us
error_subcode: CLIENT_GEO
error_code: ACCESS_DENIED }</code></pre>
</section>

<section class="bcls-section">
<h2 id="Brightcove_Player_customers">Clientes de Brightcove Player</h2>

<p>Como cliente de Brightcove Player, proporcionará la URL de sus activos de video.</p>

<aside class="bcls-aside bcls-aside--information">Para Android SDK Nougat (7.x), la extensión de Indicación de nombre de servidor (SNI) en Android usa la <code translate="No">toASCII()</code> método para hacer cumplir las restricciones sobre los caracteres en los nombres de host para las conexiones TLS. Si intenta cargar una fuente con un nombre de host que no cumple con US_ASCII (por ejemplo, el nombre de host contiene guiones bajos en el subdominio: test_example.example.com), obtendrá una excepción cuando intente recuperar la transmisión.<br />
<br />
Por lo tanto, al cargar su archivo de origen a través de HTTPS, el nombre de host de la transmisión debe ser compatible con US_ASCII.</aside>

<p>A continuación, se muestra un ejemplo de cómo agregar un video a su vista de video e iniciar la reproducción:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">import com.brightcove.player.model.DeliveryType;
import com.brightcove.player.model.Video;
import com.brightcove.player.view.BrightcoveExoPlayerVideoView;
import com.brightcove.player.view.BrightcovePlayer;
import com.brightcove.player.analytics.Analytics;
@Override
protected void onCreate(Bundle savedInstanceState) {
	super.onCreate(savedInstanceState);
	setContentView(R.layout.activity_main);
	BrightcoveVideoView brightcoveVideoView = (BrightcoveVideoView) findViewById(R.id.brightcove_video_view);

	Analytics analytics = brightcoveVideoView.getAnalytics();
	analytics.setAccount("123456789");

	MediaController controller = new MediaController(this);
	brightcoveVideoView.setMediaController(controller);
	brightcoveVideoView.add(Video.createVideo("http://solutions.brightcove.com/bcls/assets/videos/Bird_Titmouse.mp4", DeliveryType.MP4));
	brightcoveVideoView.start();
}</code></pre>
</section>
&nbsp;

<p>A continuación, echemos un vistazo a cómo funcionan los eventos dentro de la arquitectura del SDK.</p>

<div style="text-align:center"><button class="bcls-button" type="button" title="Previous button" onclick="location.href='/android/basics/android-brightcove-registration.html';">&lt;Anterior</button><button class="bcls-button" type="button" title="Next button" onclick="location.href='/android/basics/understanding-events-native-sdk-android.html';">Siguiente&gt;</button></div>
</article>
<!-- Learning path right navigation -->
<link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/learning-paths.css" />
<script>
    var learning_path = [ { node: '18250', title: 'Native SDK Architecture' } , { node: '18252', title: 'Understand the Activity Class' } , { node: '18248', title: 'Choose a Video View' } , { node: '18247', title: 'Register Your App' } , { node: '18251', title: 'Use Media Content' } , { node: '18249', title: 'Understand Events' } , { node: '18238', title: 'Step-by-Step: Simple Video App' } ]
  </script><script src="https://support.brightcove.com/site-assets/js/site/learning-paths.js"></script>