---
title: Migración a la descripción del complemento IMA 6.15.0 de Brightcove
description: En este tema, aprenderá cómo migrar su aplicación para usar el complemento IMA de Brightcove para el SDK nativo para Android 6.15.0.
parent: Advertising 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>
<p>El SDK nativo de Brightcove para Android 6.15.0 o posterior es compatible con la versión 3.19.4 del SDK de IMA de Google. Si está utilizando publicidad IMA, hay algunas cosas que debe tener en cuenta para utilizar esta versión del complemento IMA. Incluyen lo siguiente:</p>
<ul>
  <li>
    <a href="#Changes_in_the_Google_IMA_SDK">Cambios en el SDK de IMA de Google</a>
  </li>
  <li>
     <a href="#Changes_in_the_Brightcove_IMA_plugin">Cambios en el complemento Brightcove IMA</a>
  </li>
  <li>
     <a href="#Migrating_to_the_IMA_Plugin_6_15_0">Migración al complemento IMA 6.15.0 &lt;/ a
    </li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Changes_in_the_Google_IMA_SDK">Cambios en el SDK de IMA de Google</h2>
<p>
  El SDK nativo de Brightcove actualizó el SDK de IMA de Google de la versión 3.11.2 a la versión 3.19.4. Los cambios más relevantes incluyen:
</p>
<ul>
  <li>
    <code translate="No">SdkFactory.createAdDisplayContainer()</code> es obsoleto
  </li>
  <li>
    <code translate="No">AdDisplayContainer.setPlayer(VideoAdPlayer)</code> es obsoleto
  </li>
  <li>
    <code translate="No">AdDisplayContainer.setAdContainer(ViewGroup)</code> es obsoleto
  </li>
  <li>
    <code translate="No">AdsRequest.setAdDisplayContainer(AdDisplayContainer)</code> es removido
  </li>
</ul>
<p>Para obtener el lanzamiento completo, consulte el <a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history">Historial de versiones del SDK de Android IMA de Google</a> documento.</p>
</section>

<section class="bcls-section">
<h2 id="Changes_in_the_Brightcove_IMA_plugin">Cambios en el complemento Brightcove IMA</h2>
<p>
  El complemento Brightcove IMA realizó varios cambios para que sea totalmente compatible con la nueva versión del SDK de IMA de Google. Incluyen:
</p>
<ul>
  <li>
    <a href="#Using_the_GoogleIMAComponent_Builder">Uso de GoogleIMAComponent Builder</a>
  </li>
  <li>
     <a href="#Creating_the_AdDisplayContainer">Creación del AdDisplayContainer</a>
  </li>
  <li>
     <a href="#Deprecated_methods_in_GoogleIMAVideoAdPlayer">Métodos obsoletos en GoogleIMAVideoAdPlayer</a>
  </li>
</ul>

<h3 id="Using_the_GoogleIMAComponent_Builder">Uso de GoogleIMAComponent Builder</h3>
<p>Recomendamos utilizar Builder para crear el <code translate="No">GoogleIMAComponent</code> ejemplo. Esto facilita la configuracin del <code translate="No">GoogleIMAComponent</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setUseAdRules(true)
  .setImaSdkSettings(customIMASDKSettings)
  .setAdsRenderingSettings(customAdsRenderingSettings)
  .setAdDisplayContainerFactory(customAdDisplayContainerFactory)
  .build();
}</code></pre>

<h3 id="Creating_the_AdDisplayContainer">Creación del AdDisplayContainer</h3>
<p>Porque se quitó el SDK de IMA de Google <code translate="No">AdsRequest.setAdDisplayContainer(...)</code> , el complemento Brightcove IMA ahora crea esto automáticamente, utilizando el <code translate="No">GoogleIMAVideoAdPlayer</code> y el <code translate="No">BaseVideoView</code>.</p>
<p>El complemento requiere un <code translate="No">AdDisplayContainerFactory</code> para crear el <code translate="No">AdDisplayContainer</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">public interface AdDisplayContainerFactory {
  /**
  * Creates the AdDisplayContainer with the provided GoogleIMAVideoAdPlayer
  * and the ViewGroup retrieved with getViewContainer()
  *
  * @param googleIMAVideoAdPlayer the Brightcove Ad Player for Google IMA
  */
  AdDisplayContainer createAdDisplayContainer(GoogleIMAVideoAdPlayer googleIMAVideoAdPlayer);

  /**
  * Returns the ViewGroup container used for both,
  * the creation of the GoogleIMAVideoAdPlayer and the AdDisplayContainer
  */
  ViewGroup getViewContainer();
}
</code></pre>
<p>Bajo el capó, el complemento usa el <code translate="No">DefaultAdDisplayContainerFactory</code> , un <code translate="No">AdDisplayContainerFactory</code> , para crear el <code translate="No">AdDisplayContainer</code>. La <code translate="No">getViewContainer()</code> devuelve el <code translate="No">BaseVideoView</code> pasó en su constructor, y el <code translate="No">createAdDisplayContainer</code> devuelve el método:</p>

<pre><code class="language-java" translate="No">ImaSdkFactory.createAdDisplayContainer(getViewContainer(), googleIMAVideoAdPlayer);</code></pre>

<h4>Agregue su AdDisplayContainerFactory</h4>
<p>Si necesita una implementación diferente, debe pasar su propia <code translate="No">AdDisplayContainerFactory</code> hacia <code translate="No">GoogleIMAComponent</code> Constructor:</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setAdDisplayContainerFactory(customAdDisplayContainerFactory)
  .build();
</code></pre>

<p>Si desea reproducir los anuncios en una vista diferente a la <code translate="No">BaseVideoView</code> , puede proporcionar el <code translate="No">DefaultAdDisplayContainerFactory</code> con tu <code translate="No">ViewGroup</code>.</p>
<pre class="line-numbers"><code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent.Builder(brightcoveVideoView, eventEmitter)
  .setAdDisplayContainerFactory(new DefaultAdDisplayContainerFactory(myViewGroup))
  .build();
</code></pre>

<h3 id="Deprecated_methods_in_GoogleIMAVideoAdPlayer">Métodos obsoletos en GoogleIMAVideoAdPlayer</h3>
<p>Los siguientes métodos están obsoletos en el <code translate="No">GoogleIMAVideoAdPlayer</code> clase:</p>
<table class="bcls-table">
  <thead class="bcls-table__head">
    <tr>
      <!-- <th style="width:10%">Deprecated</th> -->
      <th>Método obsoleto</th>
      <th style="text-align:center";>Utilizar en su lugar</th>
    </tr>
  </thead>
  <tbody class="bcls-table__body">
    <tr>
      <td><code translate="No">playAd()</code></td>
      <td><code translate="No">playAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">loadAd(String)</code></td>
      <td><code translate="No">loadAd(AdMediaInfo, AdPodInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">stopAd()</code></td>
      <td><code translate="No">stopAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">resumeAd()</code></td>
      <td><code translate="No">playAd(AdMediaInfo)</code></td>
    </tr>
    <tr>
      <td><code translate="No">pauseAd()</code></td>
      <td><code translate="No">pauseAd(AdMediaInfo)</code></td>
    </tr>
  </tbody>
</table>
<br/>
<p>Tenga en cuenta que los métodos de reemplazo ahora requieren <code translate="No">AdMediaInfo</code>. Puede recuperar la corriente <code translate="No">AdMediaInfo</code> objeto llamando <code translate="No">GoogleIMAVideoAdPlayer.getCurrentAdMediaInfo()</code>. Esto devolverá el cargado <code translate="No">AdMediaInfo</code> , o <code translate="No">Null</code>.</p>
</section>

<section class="bcls-section">
<h2 id="Migrating_to_the_IMA_Plugin_6_15_0">Migración al complemento IMA 6.15.0</h2>
<p>
  Para migrar a Brightcove IMA Plugin 6.15.0, siga los pasos:
</p>
<ul>
  <li>
    <a href="#Update_dependency_versions">Actualizar versiones de dependencia</a>
  </li>
  <li>
    <a href="#Remove_deprecated_methods">Eliminar métodos obsoletos</a>
  </li>
</ul>

<h3 id="Update_dependency_versions">Actualizar versiones de dependencia</h3>
<p>Actualice su aplicación para usar las siguientes versiones de dependencia:</p>
<ul>
  <li>
    Todas las dependencias de Brightcove SDK configuradas en la versión 6.15.0
  </li>
  <li>
    Utilice la versión 3.19.4 del SDK de IMA de Google
  </li>
  <li>
    Utilice la versión 19.2.0 de Google Play Services
  </li>
</ul>
<p>A continuación se muestra un ejemplo de <strong>build.gradle</strong> expediente:</p>
<pre class="line-numbers"><code class="language-java" translate="No">//build.gradle
dependencies {
 //Brightcove SDK dependencies
 implementation &quot;com.brightcove.player:android-sdk6.15.0:&quot;
 implementation &quot;com.brightcove.player:exoplayer2:6.15.0&quot;
 implementation &quot;com.brightcove.player:android-ima-plugin:6.15.0&quot;

 //Google IMA SDK
 implementation &quot;com.google.ads.interactivemedia.v3:interactivemedia:3.19.4&quot;

 //Google Play Services
 implementation &quot;com.google.android.gms:play-services-ads:19.2.0&quot;
 ...
}
</code></pre>

<h3 id="Remove_deprecated_methods">Eliminar métodos obsoletos</h3>
<p>Su configuración actual de IMA de Google puede tener un aspecto similar a esto:</p>
<pre class="line-numbers"><code class="language-java" translate="No">AdDisplayContainer container = sdkFactory.createAdDisplayContainer();
container.setPlayer(googleIMAComponent.getVideoAdPlayer());
container.setAdContainer(brightcoveVideoView);
</code></pre>
<p>Estos tres métodos están obsoletos y desaparecerán.</p>
<p>Ahora debes llamar <code translate="No">googleIMAComponent.getAdDisplayContainer()</code> y devolverá el <code translate="No">AdDisplayContainer</code> asociado con el <code translate="No">GoogleIMAVideoAdPlayer</code> o nulo si no está disponible.</p>
<p>Para obtener detalles sobre la creación de <code translate="No">AdDisplayContainer</code> , mira el <a href="#Creating_the_AdDisplayContainer">Creación del AdDisplayContainer</a> sección.</p>
<p>El siguiente método también se ha eliminado del SDK de IMA de Google:</p>
<pre><code class="language-java" translate="No">adsRequest.setAdDisplayContainer(container);
</code></pre>
<p>En su lugar, utilice el <code translate="No">AdDisplayContainer</code> para crear una instancia del IMA de Google <code translate="No">AdsLoader</code>.</p>
<p>Para obtener detalles sobre los métodos obsoletos y sus reemplazos, consulte la <a href="#Deprecated_methods_in_GoogleIMAVideoAdPlayer">Métodos obsoletos en GoogleIMAVideoAdPlayer</a> sección.</p>
</section>

<section class="bcls-section">
<h2 id="More_information">Más información</h2>
<p>Para obtener más detalles sobre los cambios de IMA, consulte la <a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/client-side/history">Historial de versiones del SDK de Android IMA de Google</a> documentación.</p>
<p>Para cualquier pregunta relacionada, no dude en comunicarse con el equipo de Brightcove SDK a través del <a href="https://groups.google.com/g/brightcove-native-player-sdks">Foro de Brightcove SDK</a>.</p>
</section>

</article>