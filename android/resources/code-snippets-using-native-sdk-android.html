---
title: 'Fragmentos de código con el SDK nativo para Android'
description: En este tema, encontrará una colección de fragmentos de código que puede resultarle útil como referencia mientras desarrolla con el SDK. Para obtener soluciones más detalladas, consulte la <a href="https://github.com/BrightcoveOS/android-player-samples">Muestras de reproductores de Android</a> .
parent: Resources 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h3 id="top">Tabla de contenido</h3>
<details style="padding:0;">
    <summary>Publicidad</summary>
    <ul>
      <li><a href="#Preload_IMA_ads">Precargar anuncios IMA</a></li>
      <li><a href="#Seek_without_ads">Buscar sin anuncios</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Analítica</summary>
    <ul>
      <li><a href="#Google_analytics">Google analitico</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Subtítulos</summary>
    <ul>
      <li><a href="#Setting_captions_and_themes">Configurar subtítulos y temas</a></li>
      <li><a href="#Setting_default_captions">Establecer subtítulos predeterminados</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Conceptos</summary>
    <ul>
      <li><a href="#Methods_synchronous_or_asynchronous">Métodos: ¿síncrono o asíncrono?</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Seguridad de contenido (DRM)</summary>
    <ul>
      <li><a href="#Manually_adding_DRM_content">Agregar contenido DRM manualmente</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Transmisiones en vivo</summary>
    <ul>
      <li><a href="#Getting_duration_for_live_streams">Obtener la duración de las transmisiones en vivo</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Reproducción</summary>
    <ul>
      <li><a href="#Detecting_Network_Bandwidth">Detectando el ancho de banda de la red</a></li>
      <li><a href="#Getting_the_ExoPlayer_instance">Obtener la instancia de ExoPlayer</a></li>
      <li><a href="#Offline_playback_with_DRM">Reproducción sin conexión con DRM</a></li>
      <li><a href="#Paging_with_the_Playback_API">Paginación con la API de reproducción</a></li>
      <li><a href="#Playing_local_videos">Reproducción de videos locales</a></li>
      <li><a href="#Setting_the_buffer_size">Configurar el tamaño del búfer</a></li>
      <li><a href="#Setting_the_peak_bitrate">Configuración de la tasa de bits máxima</a></li>
      <li><a href="#Setting_the_playback_rate">Configuración de la velocidad de reproducción</a></li>
      <li><a href="#Setting_VR_Goggles_mode_for_360_videos">Configuración del modo VR Goggles para videos de 360 °</a></li>
      <li><a href="#Starting_playback_in_the_middle_of_a_video">Iniciar la reproducción en medio de un video</a></li>
      <li><a href="#Swapping_videos">Intercambio de videos</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Controles del jugador</summary>
    <ul>
      <li><a href="#Customizing_controls_for_Android_TV">Personalización de controles para Android TV</a></li>
      <li><a href="#Fullscreen_mode">Modo de pantalla completa</a></li>
      <li><a href="#Mute_unmute_the_player">Silenciar / activar el sonido del reproductor</a></li>
      <li><a href="#Positioning_player_controls_on_the_bottom">Colocación de los controles del reproductor en la parte inferior</a></li>
      <li><a href="#Showing_player_controls">Mostrando controles del reproductor</a></li>
      <!--				  <li><a href="#singleline">Showing single line controls</a></li>-->
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Listas de reproducción</summary>
    <ul>
      <li><a href="#Switching_between_videos_in_a_playlist">Cambiar entre videos en una lista de reproducción</a></li>
    </ul>
</details>
<br/>

<details style="padding:0;">
    <summary>Contenido de video</summary>
    <ul>
      <li><a href="#Getting_URL_for_thumbnail_images">Obtener URL para imágenes en miniatura</a></li>
      <li><a href="#Loading_a_remote_video_and_poster_image">Carga de una imagen de póster y video remoto</a></li>
      <li><a href="#Showing_hiding_video_still_images">Mostrar / ocultar imágenes fijas de video</a></li>
    </ul>
</details>
<br/>
</section>

<section class="bcls-section">
<h2 id="Customizing_controls_for_Android_TV">Personalización de controles para Android TV</h2>

<p>Puede agregar botones a la barra de control para dispositivos o Android TV. Los pasos a continuación lo guían para agregar un botón de pantalla completa a la barra de control para Android TV:</p>

<ol class="bcls-tasklist-restart">
	<li>Abre el <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-player-controls/CustomizedControlsSampleApp">Controles personalizados</a> aplicación de muestra. Usaremos esto como punto de partida. Revise la aplicación de muestra <a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/README.md">README</a> para obtener detalles sobre la personalización de los controles del reproductor.</li>
	<li>Abre el <strong>res / layout / land / my_media_controller.xml</strong> archivo en Android Studio.</li>
	<li>Copia el <code translate="No">Button</code> elemento para el <code translate="No">full_screen</code> botón. El código debería verse similar a esto:
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/layout-land/my_media_controller.xml">&lt;Button
style="@style/BorderlessButton"
android:id="@id/full_screen"
android:padding="4dp"
android:layout_gravity="center_vertical"
android:layout_height="wrap_content"
android:layout_width="wrap_content"
android:visibility="visible"
android:text="@string/brightcove_controls_enter_full_screen"/&gt;</a></code></pre>
	</li>
	<li>Abre el <strong>res / layout / my_tv_media_controller.xml</strong> archivo en Android Studio.</li>
	<li>Pega el copiado <code translate="No">Button</code> elemento en este archivo de diseño. La posición de los elementos determina su posición en la barra de control.</li>
	<li>Desplácese hasta la parte superior de la <strong>res / layout / my_tv_media_controller.xml</strong> expediente. Asegúrese de que la propiedad de estilo esté establecida en <code translate="No">@style/BrightcoveControlBar.TV.Custom</code>. El código debería verse así:
	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;com.brightcove.player.mediacontroller.BrightcoveControlBar
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:bmc="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
tools:ignore="Overdraw, InconsistentLayout"
android:id="@+id/brightcove_control_bar"
android:background="@color/bmc_background"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:padding="8dp"

android:orientation="horizontal"
android:layout_gravity="bottom"
<span class="bcls-highlight">    style="@style/BrightcoveControlBar.TV.Custom"&gt;</span></code></pre>
	</li>
	<li>Abre el <strong>res / valores / estilos.xml</strong> archivo en Android Studio.</li>
	<li>Hacia <code translate="No">style</code> elemento con un <code translate="No">name</code> valor de <code translate="No">BrightcoveControlBar.TV.Custom</code> , agregue un <code translate="No">item</code> elemento para el botón de pantalla completa y configúrelo en <code translate="No">true</code> para mostrarlo.
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://github.com/BrightcoveOS/android-player-samples/blob/master/brightcove-player-controls/CustomizedControlsSampleApp/src/main/res/values/styles.xml">&lt;style name="BrightcoveControlBar.TV.Custom"&gt;
&lt;item name="brightcove_vr_mode"&gt;false&lt;/item&gt;
<span class="bcls-highlight">  &lt;item name="brightcove_full_screen"&gt;true&lt;/item&gt;</span>
&lt;/style&gt;</a></code></pre>
	</li>
	<li>Eso es. Ejecute la aplicación de muestra en un dispositivo virtual o físico de Android TV. Debería ver el botón de pantalla completa en la barra de control.
	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Fullscreen button" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/android_tv_fullscreen.png" />
	<figcaption class="bcls-caption--image">Botón de pantalla completa</figcaption>
	</figure>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Fullscreen_mode">Modo de pantalla completa</h2>

<p>Puede administrar el modo de pantalla completa mediante código.</p>

<ul>
	<li>
	<p>Aquí está el código para configurar el modo de pantalla completa:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ENTER_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.ENTER_FULL_SCREEN);</a></code></pre>
	</li>
	<li>
	<p>Aquí está el código para salir del modo de pantalla completa:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#EXIT_FULL_SCREEN">brightcoveVideoView.getEventEmitter().emit(EventType.EXIT_FULL_SCREEN);</a></code></pre>
	</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Getting_duration_for_live_streams">Obtener la duración de las transmisiones en vivo</h2>

<p>Para obtener la duración de una transmisión en vivo, puede usar el <a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION"><code translate="No">MAX_POSITION</code></a>. Esto le brinda la posición de búsqueda más grande para una transmisión en vivo (es decir, lo más lejos que puede arrastrar la barra de desplazamiento). Su código debería verse similar a esto:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#MAX_POSITION">brightcoveVideoView.getEventEmitter().on(EventType.PROGRESS, new EventListener() {
  @Override
  public void processEvent(Event event) {
  int duration = (int) event.properties.get(Event.MAX_POSITION);
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Detecting_Network_Bandwidth">Detectando el ancho de banda de la red</h2>
<p>Puede haber casos de uso en los que necesite detectar el ancho de banda de la red dentro de su aplicación, como cuando trabaja con descargas.</p>

<p>Para detectar el ancho de banda, el SDK nativo para Android usa el <code translate="No">BandwidthMeter</code> clase proporcionada por ExoPlayer. Nuestra <code translate="No">PlayerBandwidthMeter</code> clase usa el <code translate="No">BandwidthMeter</code> clase y proporciona la <code translate="No">getBitrateEstimate</code> método que devuelve la tasa de bits estimada.</p>

<p>Para obtener más detalles, consulte lo siguiente:</p>
<ul>
  <li><a href="/android/reference/javadoc/com/brightcove/player/network/PlayerBandwidthMeter.html">Brightcove PlayerBandwidthMeter clase</a></li>
  <li><a href="https://medium.com/google-exoplayer/https-medium-com-google-exoplayer-simplified-bandwidth-meter-usage-17d8189f978b">Correo: Uso simplificado del medidor de ancho de banda</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html">Interfaz ExoPlayer BandwidthMeter</a></li>
  <li><a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html">Interfaz ExoPlayer BandwidthMeter.EventListener</a></li>
</ul>

<p>He aquí un ejemplo:</p>
<pre class="line-numbers">
<code class="language-java" translate="No">ExoPlayerVideoDisplayComponent exoPlayer = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
exoPlayer.getBandwidthMeter().addEventListener(myHandler, new BandwidthMeter.EventListener() {@
	Override public void onBandwidthSample(int elapsedMs, long bytesTransferred, long bitrateEstimate) {}
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Getting_the_ExoPlayer_instance">Obtener la instancia de ExoPlayer</h2>

<p>Puede haber ocasiones en las que necesite obtener el objeto ExoPlayer para modificar propiedades que no están expuestas a través del SDK nativo de Brightcove. Se crea una instancia de este objeto después de que se configura el video. Por lo tanto, debe esperar a <code translate="No">DID_SET_VIDEO</code> evento.</p>

<p>Puede obtener la instancia de ExoPlayer haciendo lo siguiente:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">// Get the ExoPlayer instance
eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    VideoDisplayComponent videoDisplayComponent = brightcoveVideoView.getVideoDisplay();
    if (videoDisplayComponent instanceof ExoPlayerVideoDisplayComponent) {
      // Get ExoPlayer
      ExoPlayer exoPlayer = ((ExoPlayerVideoDisplayComponent) videoDisplayComponent).getExoPlayer();
      if (exoPlayer instanceof SimpleExoPlayer) {
        // Get SimpleExoPlayer
        SimpleExoPlayer simpleExoPlayer = (SimpleExoPlayer) exoPlayer;
        Log.v(TAG, "onDID_SET_VIDEO: ExoPlayer = " + simpleExoPlayer);
      }
    }
  }
});</code></pre>

<p>Para ver un ejemplo de modificación del <code translate="No">AudioAttribute</code> propiedad para ExoPlayer, consulte la <a href="https://groups.google.com/forum/#!topic/brightcove-native-player-sdks/-bbFKw3fOtk">Configuración de atributos de audio en una instancia de Exoplayer</a> publicación en el foro.</p>
</section>

<section class="bcls-section">
<h2 id="Getting_URL_for_thumbnail_images">Obtener URL para imágenes en miniatura</h2>

<p>Es posible que desee utilizar la miniatura o las imágenes fijas de vídeo de su biblioteca de Brightcove. Utilice el siguiente código para obtener la URL de sus imágenes:</p>

<p>Para los clientes de Video Cloud que utilizan Edge Catalog (com.brightcove.player.edge.Catalog), puede obtener la URL en miniatura como esta:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String thumbnailUrl = video.getProperties().get("thumbnail").toString();</a></code></pre>

<p>Si encuentra que la imagen en miniatura es demasiado pequeña, puede obtener la imagen fija de video en su lugar:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/MetadataObject.html#getProperties()">String videoStillUrl = video.getProperties().get("stillImageUri").toString();</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Google_analytics">Google analitico</h2>

<p>Si utiliza el reproductor Brightcove y la clase de catálogo, los análisis de video se recopilarán automáticamente y aparecerán en su módulo de análisis de Video Cloud. Para obtener métricas adicionales, puede agregar Google Analytics a su aplicación.</p>

<p>Para integrar Google Analytics con su aplicación, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>Agregue el complemento de servicios de Google a su proyecto.</li>
	<li>Obtenga un archivo de configuración de Google y agréguelo a su proyecto.</li>
	<li>Amplíe la aplicación y proporcione un método auxiliar que devuelva su rastreador de aplicaciones. Debería verse similar al <a href="https://github.com/googlesamples/google-services/blob/master/android/analytics/app/src/main/java/com/google/samples/quickstart/analytics/AnalyticsApplication.java">Google-services AnalyticsApplication</a>.</li>
	<li>En una clase separada que extiende BrightcovePlayer, obtenga la instancia de rastreador compartido:
	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">// Obtain the shared Tracker instance
AnalyticsApplication application = (AnalyticsApplication) getApplication();
tracker = application.getDefaultTracker();</a></code></pre>
	</li>
	<li>Anule los métodos apropiados para registrar cambios en la pantalla y / o enviar eventos personalizados para seguimiento.</li>
</ol>

<p>Para conocer los pasos detallados, consulte el documento de Google para <a href="https://developers.google.com/analytics/devguides/collection/android/v4/#set-up-your-project">Agregue Analytics a su aplicación de Android</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Loading_a_remote_video_and_poster_image">Carga de una imagen de póster y video remoto</h2>

<p>Los clientes de Brightcove Player solo usan activos de video desde un servidor remoto. Siga estos pasos para cargar un video y una imagen de póster, ambos ubicados en un servidor remoto:</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>En el <code translate="No">onCreate()</code> , después de definir la vista de video, cree un objeto de video a partir de su video alojado en un servidor remoto. Selecciona el <code translate="No">DeliveryType</code> para que coincida con el tipo de video que tienes.</p>

	<pre class="line-numbers" data-start="26">
<code class="language-java" translate="No">Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8",
  DeliveryType.HLS);</code></pre>
	</li>
	<li>
	<p>Cargue una imagen remota para usarla como imagen de póster antes de que comience la reproducción de video.</p>

	<pre class="line-numbers" data-start="29">
<code class="language-java" translate="No">try {
  java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
  video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
} catch (URISyntaxException e) {
  e.printStackTrace();
}</code></pre>
	</li>
	<li>
	<p>Agregue el video a la vista e inicie la reproducción del video.</p>

	<pre class="line-numbers" data-start="37">
<code class="language-java" translate="No">brightcoveVideoView.add(video);
brightcoveVideoView.start();</code></pre>
	</li>
	<li>
	<p>Compruebe para asegurarse de que su <code translate="No">onCreate()</code> El método aparece de la siguiente manera:</p>

	<pre class="line-numbers" data-start="15">
<code class="language-java" translate="No">@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

    // Optional: For Brightcove Player customers to register their apps
    Analytics analytics = brightcoveVideoView.getAnalytics();
    analytics.setAccount("<span class="bcls-input">your account Id</span>");

    // Define a video from a remote server
    Video video = Video.createVideo("https://learning-services-media.brightcove.com/videos/hls/greatblueheron/greatblueheron.m3u8", DeliveryType.HLS);

    // Load a remote poster image
    try {
        java.net.URI myposterImage = new java.net.URI("https://solutions.brightcove.com/bcls/assets/images/Great-Blue-Heron.png");
        video.getProperties().put(Video.Fields.STILL_IMAGE_URI, myposterImage);
    } catch (URISyntaxException e) {
        e.printStackTrace();
    }

    // Add video to the view
    brightcoveVideoView.add(video);
    // Start video playback
    brightcoveVideoView.start();
  }</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Manually_adding_DRM_content">Agregar contenido DRM manualmente</h2>

<p>Como cliente de Brightcove Player, es posible que desee utilizar contenido protegido por DRM de su propio servidor. Puede cargar contenido DRM manualmente de la siguiente manera:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/drm/WidevineMediaDrmCallback.html">import com.brightcove.player.display.WidevineMediaDrmCallback;

Video video = Video.createVideo("https://storage.googleapis.com/wvmedia/cenc/h264/tears/tears.mpd");
video.getProperties().put(WidevineMediaDrmCallback.DEFAULT_URL, "https://proxy.uat.widevine.com/proxy?video_id=&amp;provider=widevine_test");
brightcoveVideoView.add(video);
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">No es necesario que cargue manualmente contenido DRM en su biblioteca de Brightcove.</aside>
</section>

<section class="bcls-section">
<h2 id="Methods_synchronous_or_asynchronous">Métodos: ¿síncrono o asíncrono?</h2>

<p>Estos son algunos de los métodos asincrónicos que se encuentran en Native Player SDK para Android:</p>

<ul>
	<li>La <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#start()"><code translate="No">start()</code></a> , <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SEEK_TO"><code translate="No">seekTo()</code></a> y <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#stopPlayback()"><code translate="No">stopPlayback()</code></a> Los métodos son asincrónicos, porque emiten un evento para que otros componentes del sistema lo manejen.</li>
	<li>La <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> El método es sincrónico con respecto a la actualización de la lista, pero es asincrónico con respecto a la descarga del video actual.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Mute_unmute_the_player">Silenciar / activar el sonido del reproductor</h2>

<p>Puede silenciar o reactivar el reproductor mediante programación. Brightcove recomienda utilizar BrightcoveExoPlayerVideoView siempre que sea posible.</p>

<aside class="bcls-aside bcls-aside--information">Debe esperar a que el <code translate="No">DID_SET_VIDEO</code> o la <code translate="No">DID_PLAY</code> evento antes de ejecutar el código para silenciar al reproductor. De lo contrario, el silenciamiento no surtirá efecto. La razón para esperar estos eventos es que el reproductor se crea cuando se carga el video.</aside>

<h3 id="BrightcoveExoPlayerVideoView">BrightcoveExoPlayerVideoView</h3>

<p>Al usar el <a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveExoPlayerVideoView.html">BrightcoveExoPlayerVideoView</a> , puede silenciar o reactivar el reproductor mediante programación haciendo lo siguiente:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 100F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 100F;
  Map&lt;string, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>

<h3 id="BrightcoveVideoView">BrightcoveVideoView</h3>

<aside class="bcls-aside bcls-aside--warning">Brightcove recomienda utilizar BrightcoveExoPlayerVideoView.</aside>

<p>Si necesita utilizar el <a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">BrightcoveVideoView</a> , que usa Android <a href="https://developer.android.com/reference/android/media/MediaPlayer.html">Reproductor multimedia</a> , puede silenciar o reactivar el reproductor mediante programación con el siguiente código:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VOLUME">float volume = 1F;
...
brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    setMute(true);
    brightcoveVideoView.start();
  }
});
...
private void setMute(boolean mute) {
  volume = mute ? 0F : 1F;
  Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();
  properties.put(Event.LEFT_VOLUME, volume);
  properties.put(Event.RIGHT_VOLUME, volume);
  brightcoveVideoView.getEventEmitter().emit(EventType.SET_VOLUME, properties);
}</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Offline_playback_with_DRM">Reproducción sin conexión con DRM</h2>

<p>Para los videos descargados para su reproducción sin conexión, el estado de la descarga también se puede mostrar en el Área de notificaciones. El título de la notificación se establece en el título del video. La notificación se elimina si la descarga se detiene o cancela.</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">Descargar estado de notificación</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>Estado de descarga</th>
			<th>Texto del contenido de la notificación</th>
			<th>Icono de notificación</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td>Descargando</td>
			<td><code translate="No">R.string.odrm_download_running</code>- esto es "Descargando ..." de forma predeterminada<br />
			<br />
			Habrá una barra de progreso que muestra el porcentaje completado.</td>
			<td>El icono de "descarga" animado predeterminado de la plataforma: <code translate="No">android.R.drawable.stat_sys_download</code></td>
		</tr>
		<tr>
			<td>Rever</td>
			<td><code translate="No">R.string.odrm_download_waiting_retry</code>- esto es "Esperando reintentar ..." de forma predeterminada</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>Ha fallado</td>
			<td><code translate="No">R.string.odrm_download_failed</code>- esto es "¡Falló!" "de forma predeterminada</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>Terminado</td>
			<td><code translate="No">R.string.odrm_download_complete</code>- esto es "Guardado" por defecto</td>
			<td>El icono "descargado" estático predeterminado de la plataforma: <code translate="No">android.R.drawable.stat_sys_download_done</code></td>
		</tr>
	</tbody>
</table>

<p>Para un estado de Reintento o Fallido, el subtexto de la notificación se establecerá en un recurso apropiado según el tipo de error. Aquí está la lista completa:</p>

<ul>
	<li><code translate="No">R.string.odrm_error_none</code></li>
	<li><code translate="No">R.string.odrm_error_cannot_resume</code></li>
	<li><code translate="No">R.string.odrm_error_device_not_found</code></li>
	<li><code translate="No">R.string.odrm_error_file_already_exists</code></li>
	<li><code translate="No">R.string.odrm_error_file_error</code></li>
	<li><code translate="No">R.string.odrm_error_http_data_error</code></li>
	<li><code translate="No">R.string.odrm_error_insufficient_space</code></li>
	<li><code translate="No">R.string.odrm_error_too_many_redirects</code></li>
	<li><code translate="No">R.string.odrm_error_unhandled_http_code</code></li>
	<li><code translate="No">R.string.odrm_error_unknown</code></li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Paging_with_the_Playback_API">Paginación con la API de reproducción</h2>

<p>Al recuperar su contenido de Video Cloud desde la API de reproducción, puede implementar la paginación para una lista de reproducción.</p>

<p>Para desplazarse por un conjunto de videos en una lista de reproducción, use los siguientes parámetros de URL de solicitud:</p>

<ul>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">limit</a></code>- define la cantidad de videos que se devolverán desde la API de reproducción</li>
	<li><code translate="No"><a href="https://apis.support.brightcove.com/playback/getting-started/overview-playback-api.html#playlistRequests">offset</a></code>: establece la cantidad de videos que se omitirán en una lista de reproducción desde la API de reproducción</li>
</ul>

<p>Los parámetros de consulta se pasarán al método de catálogo como un <code translate="No">Map</code> objeto, como pares clave-valor. Este ejemplo devuelve 6 videos comenzando con el décimo video en la lista de reproducción:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/edge/Catalog.html">Map&lt;String, String&gt; queryParameters = new HashMap&lt;&gt;();
queryParameters.put("limit", "6");
queryParameters.put("offset", "9");

Catalog catalog = new Catalog(eventEmitter, "myAccount", "myPolicy");
catalog.findPlaylistByID("myPlaylistId", null, queryParameters, myListener);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Playing_local_videos">Reproducción de videos locales</h2>

<p>Si desea reproducir videos MP4 almacenados localmente, debe guardarlos en la carpeta de activos de la aplicación.</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Video.html">Uri video = Uri.parse("file:///android_asset/path/to/video.mp4");
brightcoveVideoView.add(Video.createVideo(video.toString()));
brightcoveVideoView.start();</a></code></pre>

<aside class="bcls-aside bcls-aside--information">Es posible que obtenga un error de excepción si intenta reproducir videos MP4 almacenados en la carpeta de recursos de la aplicación (/ res / raw).</aside>
</section>

<section class="bcls-section">
<h2 id="Positioning_player_controls_on_the_bottom">Colocación de los controles del reproductor en la parte inferior</h2>

<p>De forma predeterminada, la barra de control del reproductor se coloca directamente debajo del video, como se muestra aquí:</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls under video" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-video.png" />
<figcaption class="bcls-caption--image">Controles del reproductor en video</figcaption>
</figure>

<p>También puede colocar la barra de control del reproductor de modo que esté en la parte inferior de la vista de video. Porque los controles son parte del <code translate="No">BrightcoveVideoView</code> , estableciendo la altura en <code translate="No">match_parent</code> , la vista cubrirá toda la pantalla. Cuando los controles aparecen en la parte inferior de la vista, el video permanecerá en el medio de la vista.</p>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Player controls bottom" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/android/snippets/player-controls-bottom.png" />
<figcaption class="bcls-caption--image">El reproductor controla la parte inferior de la vista de video</figcaption>
</figure>

<p>hay dos maneras de hacer esto. El primer enfoque es el siguiente:</p>

<ol class="bcls-tasklist-restart">
	<li>Abre el <strong>principal / res / valores / style.xml</strong> archivo para su proyecto.</li>
	<li>
	<p>Agregue el siguiente código XML:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">&lt;style name="BrightcoveControlBar" parent="BrightcoveControlBarDefault"&gt;
  &lt;item name="brightcove_align"&gt;false&lt;/item&gt;
&lt;/style&gt;</code></pre>
	</li>
</ol>

<p>O puede usar código dentro del <strong>MainActivity.java</strong> archivo de la siguiente manera:</p>

<ol class="bcls-tasklist-restart">
	<li>Abre el <strong>MainActivity.java</strong> archivo para su proyecto.</li>
	<li>
	<p>Después de obtener el emisor de eventos, como se muestra aquí:</p>

	<pre>
<code class="language-java" translate="No">EventEmitter eventEmitter = brightcoveVideoView.getEventEmitter();</code></pre>

	<p>Agregue el siguiente detector de eventos y código. Estamos esperando hasta después de la <code translate="No">DID_SET_VIDEO</code> evento para asegurarse de que se ha creado la barra de control.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_SET_VIDEO, new EventListener() {
  @Override
  public void processEvent(Event event) {
    BrightcoveControlBar brightcoveControlBar = brightcoveVideoView.getBrightcoveMediaController().getBrightcoveControlBar();
    brightcoveControlBar.setAlign(false);
    }
});</code></pre>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Preload_IMA_ads">Precargar anuncios IMA</h2>

<p>Para precargar anuncios con el SDK nativo para Android y el complemento IMA, utilice el <code translate="No">setEnablePreloading(true)</code> propiedad .</p>

<aside class="bcls-aside bcls-aside--information">Tenga en cuenta que esto solo funciona con prerolls VAST únicos.</aside>

<p>Para utilizar esta propiedad, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>El punto de partida es el <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/AdRulesIMASampleApp">Aplicación de muestra de IMA</a>.</p>
	</li>
	<li>
	<p>Localizar el <code translate="No">private void setupGoogleIMA()</code> función.</p>
	</li>
	<li>
	<p>Agregue el bloque de código de fragmento antes de la última línea de código de la función.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">ImaSdkSettings imaSdkSettings = sdkFactory.createImaSdkSettings();
AdsRenderingSettings adsRenderingSettings =
ImaSdkFactory.getInstance().createAdsRenderingSettings();
adsRenderingSettings.setEnablePreloading(true);</code></pre>
	</li>
	<li>
	<p>Añade el <code translate="No">adsRenderingSettings</code> parámetro a la última línea de código.</p>

	<pre>
<code class="language-java" translate="No">googleIMAComponent = new GoogleIMAComponent(brightcoveVideoView, eventEmitter, true, adsRenderingSettings);</code></pre>
	</li>
</ol>

<h2 id="Seek_without_ads">Buscar sin anuncios</h2>

<p>Puedes usar el <code translate="No">adsDisabled</code> propiedad para el <code translate="No">VideoPlaybackController</code> para deshabilitar la reproducción de anuncios mientras busca a través de un video.</p>

<aside class="bcls-aside bcls-aside--tip"> Esta función funciona con todos los complementos publicitarios de Brightcove, incluidos SSAI y los de CSAI. Para obtener detalles sobre el complemento, consulte la <a href="https://sdks.support.brightcove.com/android/basics/overview-brightcove-player-sdk-android.html#Integrations">SDK nativo para integraciones de Android</a> sección. </aside>
<!-- <aside class="bcls-aside bcls-aside--information">
<ul>
	<li>As of the Native SDK for Android v4.10.0, this feature is also supported with the FreeWheel plugin.</li>
</ul>
</aside> -->

<p>Para utilizar esta función, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>Consigue el <code translate="No">VideoPlaybackController</code> instancia de la <code translate="No">BrightcoveVideoView</code>.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();</code></pre>
	</li>
	<li>
	<p>Desactiva la reproducción de anuncios.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(true);</code></pre>
	</li>
	<li>Busque la posición de tiempo deseada en el video actual.</li>
	<li>
	<p>Reanude el comportamiento normal de los anuncios.</p>

	<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">playbackController.setAdsDisabled(false);</code></pre>
	</li>
</ol>

<p>Tu código debería verse así:</p>

<pre class="line-numbers" data-start="1">
<code class="language-java" translate="No">final VideoPlaybackController playbackController = brightcoveVideoView.getPlaybackController();
eventEmitter.on(EventType.VIDEO_DURATION_CHANGED, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(true);
    brightcoveVideoView.seekTo(10000);
  }
});

eventEmitter.on(EventType.DID_SEEK_TO, new EventListener() {
  @Override
  public void processEvent(final Event event) {
    playbackController.setAdsDisabled(false);
  }
});</code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_buffer_size">Configurar el tamaño del búfer</h2>

<p>Puede considerar aumentar la longitud del búfer para eliminar el almacenamiento en búfer en el reproductor si la entrega del siguiente segmento se retrasa desde la CDN. Sin embargo, es posible que no pueda hacer nada mejor manualmente que HLS ya hace.</p>

<p>HLS está diseñado para reproducirse de inmediato y reducir la calidad si no puede mantener el ritmo. De esta forma, no necesita precargar un búfer. Si no puede mantener el ritmo, cargará la mayor cantidad de video que pueda con la mejor calidad para evitar interrupciones.</p>

<p>A partir del SDK nativo para Android v6.3.1, se agregaron las siguientes clases al SDK para la implementación de ExoPlayer 2:</p>

<ul>
	<li><code translate="No">LoadControlConfig</code></li>
	<li><code translate="No">AllocatorConfig</code></li>
</ul>

<p>Los valores establecidos en estas clases se utilizan para crear el ExoPlayer <code translate="No">DefaultLoadControl</code> objeto, que se utiliza para crear la instancia de ExoPlayer. Los desarrolladores pueden controlar el tamaño del búfer de la siguiente manera:</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>La <code translate="No">LoadControlConfig</code> y <code translate="No">AllocatorConfig</code> las clases siguen los patrones del constructor. Los valores que puede establecer en ambas clases reflejan los valores que puede establecer en sus constructores.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">AllocatorConfig allocatorConfig = new AllocatorConfig.Builder().build();
LoadControlConfig loadControlConfig = new LoadControlConfig.Builder()
.setAllocatorConfig(allocatorConfig)
.setMinBufferMs(X)
.setMaxBufferMs(Y)
.build();</code></pre>
	</li>
	<li>
	<p>Los valores que no se establezcan en el constructor utilizarán valores predeterminados. Utilizar el <code translate="No">ExoPlayerVideoDisplayerComponent.setLoadControlConfig()</code> método para configurar el <code translate="No">LoadControlConfig</code>.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);
...
ExoPlayerVideoDisplayComponent dc = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
dc.setLoadControlConfig(loadControlConfig);</code></pre>
	</li>
</ol>
<!-- <p>That being said, if you are using the ExoPlayer 1 implementation, you can control the following:</p>

<aside class="bcls-aside bcls-aside--warning">The following methods are only available with the ExoPlayer 1 implementation. These methods are deprecated with the ExoPlayer 2 implementation. For details, see the <a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html">ExoPlayerVideoDisplayComponent class</a> reference.</aside>

<ul>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferDurationToSwitchUp</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">maxBufferDurationToSwitchDown</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minBufferMs</code></a></li>
<li><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html"><code translate="No">minRebufferMs</code></a></li>
</ul>

<p>For example, if you want to set the buffer length to 120 seconds, you could set <code translate="No">minBufferMs</code> to <code translate="No">120 * 1000</code>.</p> --></section>

<section class="bcls-section">
<h2 id="Setting_captions_and_themes">Configurar subtítulos y temas</h2>

<p>Actualmente, el <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> está configurado en el archivo de manifiesto de Brightcove Player SDK, por lo que los desarrolladores no necesitan especificarlo en sus aplicaciones:</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest
xmlns:android="http://schemas.android.com/apk/res/android"
package="com.brightcove.player"
android:versionCode="1"
android:versionName="1.0"&gt;

&lt;application&gt;
&lt;!-- If we don't register this Activity in the Manifest, apps using the SDK will crash when they try to access it. --&gt;
&lt;!-- During the app's build process, this manifest will be merged with the app-level one. --&gt;
<span class="bcls-highlight">&lt;activity android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"/&gt;</span>
&lt;/application&gt;
&lt;/manifest&gt;</a></code></pre>

<p>La <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> heredará el tema predeterminado de la plataforma, siempre que establezca temas para su aplicación en el <code translate="No">&lt;activity&gt;</code> nivel en el manifiesto de su aplicación.</p>

<p>Si configura un solo tema de aplicación en el <code translate="No">&lt;application&gt;</code> nivel, entonces el <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> heredará las propiedades de este tema a nivel de aplicación. Para algunos temas, esto puede hacer que la actividad tenga un estilo extraño o incluso ilegible.</p>

<p>En esos casos, debe especificar el <a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html"><code translate="No">BrightcoveCaptionPropertiesActivity</code></a> en su propio manifiesto y aplique un tema allí, así:</p>

<pre class="line-numbers">
<code class="language-xml" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/captioning/BrightcoveCaptionPropertiesActivity.html">&lt;activity
<span class="bcls-highlight">android:name="com.brightcove.player.captioning.BrightcoveCaptionPropertiesActivity"</span>
android:theme="@style/MyCustomCaptionSettingsTheme"/&gt;</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_default_captions">Establecer subtítulos predeterminados</h2>

<p>Si su video usa subtítulos en varios idiomas, puede establecer mediante programación un idioma predeterminado cuando comience la reproducción. Su código debería verse similar a esto:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)">brightcoveVideoView.getEventEmitter().once(EventType.CAPTIONS_LANGUAGES, new EventListener() {
  @Override
  public void processEvent(Event event) {
    brightcoveVideoView.setClosedCaptioningEnabled(true);
    brightcoveVideoView.setSubtitleLocale("fr");
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_peak_bitrate">Configuración de la tasa de bits máxima</h2>

<p>Para ayudarlo a implementar un selector de tasa de bits en su reproductor, puede usar el siguiente código para establecer la tasa de bits máxima:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/display/ExoPlayerVideoDisplayComponent.html#setPeakBitrate-int-">((ExoPlayerVideoDisplayComponent) videoView.getVideoDisplay()).setPeakBitrate(bitRate);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Setting_the_playback_rate">Configuración de la velocidad de reproducción</h2>

<p>ExoPlayer admite el ajuste de la velocidad de reproducción para videos que se reproducen en dispositivos Android. Para obtener más detalles, consulte el <a href="https://medium.com/google-exoplayer/variable-speed-playback-with-exoplayer-e6e6a71e0343">Reproducción de velocidad variable con ExoPlayer</a> documento.</p>

<p>Puede controlar la velocidad de reproducción con el siguiente código:</p>

<pre class="line-numbers">
<code class="language-java" translate="No">eventEmitter.on(EventType.DID_PLAY, new EventListener() {
  @Override
  public void processEvent(Event event) {

    //Get instance of ExoPlayer2
    ExoPlayerVideoDisplayComponent displayComponent = (ExoPlayerVideoDisplayComponent) brightcoveVideoView.getVideoDisplay();
    ExoPlayer exoPlayer = displayComponent.getExoPlayer();

    //Set playback speed
    PlaybackParameters param = new PlaybackParameters(1.6f, 1.0f);
    exoPlayer.setPlaybackParameters(param);
  }
});</code></pre>
<aside class="bcls-aside bcls-aside--tip">Para saber cómo mostrar un menú para que los espectadores elijan una velocidad de reproducción, consulte la <a href="/android/playback/setting-playback-speed-android.html">Configuración de la velocidad de reproducción en dispositivos Android</a> documento.</aside>
</section>

<section class="bcls-section">
<h2 id="Setting_VR_Goggles_mode_for_360_videos">Configuración del modo VR Goggles para videos de 360 °</h2>

<p>Al reproducir un video de 360 °, los usuarios pueden seleccionar el botón Video 360 en la barra de control para cambiar al modo VR Goggles. Si está utilizando el <code translate="No">BrightcovePlayer</code> o <code translate="No">BrightcovePlayerFragment</code> actividad, la orientación de la pantalla cambiará a horizontal cuando el modo VR Goggles esté habilitado.</p>

<p>Si está utilizando una actividad personalizada, deberá agregar lo siguiente:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#REQUESTED_ORIENTATION">brightcoveVideoView.getEventEmitter().on(EventType.CHANGE_ORIENTATION, new EventListener() {
  @Override
  public void processEvent(Event event) {
    int orientation = event.getIntegerProperty(Event.REQUESTED_ORIENTATION);
    setRequestedOrientation(orientation);
  }
});</a></code></pre>

<aside class="bcls-aside bcls-aside--information">En el método que contiene el código anterior, debe agregar <code translate="No">@SuppressWarnings("ResourceType")</code> al método.</aside>
</section>

<section class="bcls-section">
<h2 id="Showing_hiding_video_still_images">Mostrar / ocultar imágenes fijas de video</h2>

<p>El comportamiento predeterminado al recuperar videos de su biblioteca de Video Cloud es mostrar la imagen fija del video hasta que comience la reproducción.</p>

<h3>Mostrando la imagen fija del video</h3>

<p>Puede mostrar el video en cualquier momento emitiendo un <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#SET_VIDEO_STILL"><code translate="No">SET_VIDEO_STILL</code></a> evento con un <a href="/android/reference/javadoc/com/brightcove/player/event/Event.html#VIDEO_STILL"><code translate="No">VIDEO_STILL</code></a> propiedad establecida en el URI de la imagen fija de vídeo.</p>
<!-- <p>Hiding should happen automatically whenever a <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#CUE_POINT"><code translate="No">CUE_POINT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_PLAY"><code translate="No">DID_PLAY</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_SEEK_TO"><code translate="No">DID_SEEK_TO</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#WILL_INTERRUPT_CONTENT"><code translate="No">WILL_INTERRUPT_CONTENT</code></a>, <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#ACTIVITY_STOPPED"><code translate="No">ACTIVITY_STOPPED</code></a>, or <a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#FRAGMENT_STOPPED"><code translate="No">FRAGMENT_STOPPED</code></a> event occurs.</p> --><!-- <p>In general, we try to promote doing things via events, rather than direct method calls.</p>  -->

<h3>Ocultar la imagen fija de vídeo</h3>

<p>Si está reproduciendo automáticamente el video, es posible que desee ocultar la imagen fija del video. Para hacer esto, puede escuchar el <code translate="No">SET_VIDEO_STILL</code> evento y evitar el comportamiento predeterminado de la siguiente manera:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">brightcoveVideoView.getEventEmitter().on(EventType.SET_VIDEO_STILL, new EventListener() {
  @Override
  public void processEvent(Event event) {
    event.preventDefault();
    event.stopPropagation();
  }
});</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Showing_player_controls">Mostrando controles del reproductor</h2>

<p>De forma predeterminada, los controles del reproductor desaparecerán después de unos segundos. El usuario puede mostrar los controles tocando el video.</p>

<p>Si desea que los controles del reproductor sigan mostrándose hasta que el usuario toque el video, puede deshabilitar la función de ocultación automática de la siguiente manera: (el código necesario está resaltado)</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/mediacontroller/BrightcoveMediaController.html">public class MainActivity extends BrightcovePlayer {
  <span class="bcls-highlight">private BrightcoveMediaController controller;</span>

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    setContentView(R.layout.activity_main);
    brightcoveVideoView = (BrightcoveExoPlayerVideoView) findViewById(R.id.brightcove_video_view);

<span class="bcls-highlight">    controller = new BrightcoveMediaController(brightcoveVideoView);
    controller.setShowHideTimeout(0);</span>

    super.onCreate(savedInstanceState);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Starting_playback_in_the_middle_of_a_video">Iniciar la reproducción en medio de un video</h2>

<p>A veces, es posible que deba iniciar la reproducción desde algún lugar en el medio del video. Para hacer esto, puedes llamar <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)"><code translate="No">BrightCoveVideoView.seekTo()</code></a> antes de iniciar la reproducción.</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#seekTo(int)">catalog.findVideoByID(getString(R.string.videoId), new VideoListener() {
  @Override
  public void onVideo(Video video) {
    Log.v(TAG, "onVideo: video = " + video);

    brightcoveVideoView.getEventEmitter().on(EventType.DID_SET_VIDEO, new EventListener() {
    @Override
      public void processEvent(Event event) {
      brightcoveVideoView.seekTo(60000);
      brightcoveVideoView.start();
      }
    });
  brightcoveVideoView.add(video);
  brightcoveVideoView.pause();
  }
});</a></code></pre>
</section>
<!--
											<div id="singleline" class="section">
													<h2>Showing single line controls</h2>
													<p>By default, the player controls will appear as a single line in landscape mode and appear stacked in portrait mode. You can override this behavior and display player controls as a single line in portrait mode.</p>
													<p>Follow these steps:</p>
													<ul>
															<li></li>
													</ul>

													<p><a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#setSubtitleLocale(java.lang.String)"><code data-gist-id="ac85a1305f851b406dde" data-gist-hide-footer="true" data-gist-line="115-121"></code></a></p>
											</div>
					-->

<section class="bcls-section">
<h2 id="Swapping_videos">Intercambio de videos</h2>

<p>Este ejemplo muestra un enfoque para intercambiar videos en el reproductor.</p>

<h3>Usar videos únicos</h3>

<p>Desde el <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> El método es asincrónico al descargar el video actual, debe esperar antes de agregar un nuevo video al reproductor. Aquí hay dos opciones.</p>

<ul>
	<li>
	<p>Dado que el tiempo necesario para recuperar un vídeo de Video Cloud debería empequeñecer el tiempo necesario para actualizar la lista de reproducción, puede intentar algo como esto:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.clear();

catalog.findVideoByID("123456789", new VideoListener() {
  @Override
  public void onVideo(final Video video) {
    brightcoveVideoView.add(video);
    brightcoveVideoView.start();

  }
});</a></code></pre>
	</li>
	<li>
	<p>Otro enfoque es esperar un evento:</p>

	<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/event/EventType.html#DID_CHANGE_LIST">catalog.findVideoByID("", new VideoListener() {
@Override
  public void onVideo(final Video video) {
    eventEmitter.once(EventType.DID_CHANGE_LIST, new EventListener() {
    @Override
    public void processEvent(Event event)
    	{ brightcoveVideoView.add(video); brightcoveVideoView.start(); }
  });
  brightcoveVideoView.clear();
  }
});</a></code></pre>
	</li>
</ul>

<h3>Usando una lista de reproducción</h3>

<p>Si está trabajando con una lista de reproducción, tenga en cuenta que llamar al <a href="/android/reference/javadoc/com/brightcove/player/view/BaseVideoView.html#clear()"><code translate="No">clear()</code></a> El método elimina todos los elementos de la lista de reproducción. Entonces, puede obtener un <code translate="No">IndexOutOfBounds</code> excepción al intentar saltar al primer video de la lista de reproducción.</p>

<p>En su lugar, puede intentar algo como esto:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/view/BrightcoveVideoView.html">brightcoveVideoView.pause();
brightcoveVideoView.stopPlayback();
brightcoveVideoView.setCurrentIndex(0);</a></code></pre>
</section>

<section class="bcls-section">
<h2 id="Switching_between_videos_in_a_playlist">Cambiar entre videos en una lista de reproducción</h2>

<p>Si está usando una lista de reproducción, puede usar el siguiente código para cambiar entre videos en la lista de reproducción:</p>

<pre class="line-numbers">
<code class="language-java" translate="No"><a href="/android/reference/javadoc/com/brightcove/player/model/Playlist.html">private void setupControls(List&lt;Video&gt; videos) {
  previousVideoButton = (Button) findViewById(R.id.previous_video_button);
  nextVideoButton = (Button) findViewById(R.id.next_video_button);

  if (videos != null) {
    previousVideoButton.setEnabled(false);
    previousVideoButton.setOnClickListener(new View.OnClickListener() {
    public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt; 1);
    nextVideoButton.setEnabled((index + 1) &lt; size);

    if (index &gt; 0) {
    brightcoveVideoView.setCurrentIndex(index - 1);
    }
  }
});

nextVideoButton.setEnabled(videos.size() &gt; 1);
nextVideoButton.setOnClickListener(new View.OnClickListener() {
  public void onClick(View view) {
    int index = brightcoveVideoView.getCurrentIndex();
    int size = brightcoveVideoView.getList().size();
    previousVideoButton.setEnabled(index &gt;= 0);
    nextVideoButton.setEnabled((index + 2) &lt; size);

    if ((index + 1) &lt; size) {
    	brightcoveVideoView.setCurrentIndex(index + 1);
    }
  }
});
}
}</a></code></pre>
</section>
</article>