---
title: 'Selección HEVC con el SDK nativo para Android'
description: En este tema, aprenderá cómo Brightcove Native SDK para Android selecciona fuentes y representaciones HEVC.
parent: Playback 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>


<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>
<p>
  La codificación de video de alta eficiencia (HEVC), también conocida como H.265, es un estándar de compresión de video que reduce el tamaño de los archivos de video, lo que permite una reproducción de mayor calidad.
</p>
<p>
  Brightcove Native SDK para Android utiliza el siguiente proceso de selección HEVC:
</p>
<ol>
	<li><a href="#HEVC_source_selection">Selección de fuente HEVC</a></li>
  <li>
    <a href="#HEVC_rendition_selection">Selección de reproducción HEVC</a>
  </li>
</ol>
<aside class="bcls-aside bcls-aside--information">
  <p>
    Notas:
  </p>
  <ul>
    <li>
      Compatible con Brightcove Native SDK para Android 6.13.1+
    </li>
    <li>
      Funciona con dispositivos Android que utilizan API nivel 21 (Lollipop versión 5.0) y superior
    </li>
  </ul>
</aside>
</section>

<section class="bcls-section">
<h2 id="HEVC_source_selection">Selección de fuente HEVC</h2>
<p>El proceso de selección de fuente HEVC comienza después de realizar una solicitud para un video usando Brightcove <code translate="No">Catalog</code>.</p>
<p>
  Dependiendo de la configuración de su cuenta, el <code translate="No">Catalog</code> La respuesta puede contener varias fuentes, con o sin versiones HEVC. Aquí hay un ejemplo:
</p>
<pre class="line-numbers"><code class="language-json" translate="No"> &quot;sources&quot;: [
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=ZYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v1/dash/live-baseurl/clear/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;http://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  },
  {
    &quot;type&quot;: &quot;application/dash+xml&quot;,
    &quot;src&quot;: &quot;https://manifest.prod.boltdns.net/manifest/v2/dash/live-baseurl/clear/avc1_<span class="bcls-highlight">hvc1</span>_mp4a/4800266849001/11023209-08e4-40d4-9a8b-25aa659421e2/2s/manifest.mpd?fastly_token=XYZ&quot;,
    &quot;profiles&quot;: &quot;urn:mpeg:dash:profile:isoff-live:2011&quot;
  }
]</code></pre>
<p>
  En este ejemplo, hay cuatro fuentes DASH:
</p>
<ul>
  <li>
    Una fuente HTTP que no es HEVC
  </li>
  <li>
    Una fuente HTTPS que no es HEVC
  </li>
  <li>
    Una fuente HTTP HEVC
  </li>
  <li>
    Una fuente HEVC HTTPS
  </li>
</ul>
<p>
  Tenga en cuenta que las fuentes HEVC contienen la cadena <code translate="No">hvc</code> en la URL.
</p>
<p>
  El selector de fuente Native SDK para Android prefiere fuentes HEVC. En el ejemplo anterior, seleccionará la fuente HEVC HTTPS.
</p>
<p>
  El SDK nativo continúa con el proceso de selección predeterminado como se define en la <a href="https://support.brightcove.com/android-source-selection">Androide: Selección de fuente</a> documento:
</p>
<ol>
  <li>
    Prefiere HTTPS sobre HTTP
  </li>
  <li>
    Prefiere DASH sobre HLS
  </li>
  <li>
    Si selecciona HLS para la reproducción, prefiera la versión más alta de HLS disponible
  </li>
</ol>

</section>

<section class="bcls-section">
<h2 id="HEVC_rendition_selection">Selección de reproducción HEVC</h2>
<p>Dependiendo de sus configuraciones de ingestión, la fuente HEVC puede estar contenida en diferentes representaciones. Puede tener lo siguiente:</p>
<ul>
  <li>
    <a href="#Only_HEVC_renditions">Solo interpretaciones HEVC</a>
  </li>
  <li>
    <a href="#A_mix_of_HEVC_and_other_codecs">Una mezcla de HEVC y otros códecs</a>
  </li>
</ul>
<aside class="bcls-aside bcls-aside--information">Este tipo de selección solo se aplica cuando se usa ExoPlayer.</aside>

<h3 id="Only_HEVC_renditions">Solo interpretaciones HEVC</h3>
<p>
  Cuando las representaciones de la fuente de video solo tienen códecs HEVC, no hay ninguna selección de reproducción involucrada. ExoPlayer selecciona la interpretación adecuada dadas las capacidades del dispositivo y el ancho de banda disponible.
</p>

<h3 id="A_mix_of_HEVC_and_other_codecs">Una mezcla de HEVC y otros códecs</h3>
<p>
  Si la fuente de video tiene representaciones con una mezcla de HEVC y otros códecs (como AVC), se invoca un proceso de selección de representación. Cuando el SDK nativo carga la fuente en ExoPlayer, realiza una <a href="https://exoplayer.dev/doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html">SelectionOverride</a> para que la reproducción de video prefiera HEVC sobre otros códecs.
</p>
<p>
  Dado un video cuyos formatos de reproducción son compatibles con el dispositivo, este es el proceso de reproducción:
</p>
<ol>
  <li>
    El SDK nativo selecciona todas las representaciones HEVC.
  </li>
  <li>
    Ignora las representaciones que no son HEVC que duplican un HEVC existente con la misma resolución.
  </li>
</ol>

<p>
  Esto obliga a ExoPlayer a preferir HEVC en la mayoría de los casos. Aquí hay dos escenarios posibles:
</p>
<ul>
  <li>
    <a href="#Codec_mix_duplication">Duplicación de mezcla de códecs</a>
  </li>
  <li>
    <a href="#Half_and_half">Mitad y mitad</a>
  </li>
</ul>

<h4 id="Codec_mix_duplication">Duplicación de mezcla de códecs</h4>
<p>
  En este escenario, la mayoría de las resoluciones de los códecs HEVC y AVC están duplicadas. Por ejemplo:
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1989000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;2478000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3458000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  Dadas las representaciones de video anteriores, Brightcove Natvie SDK seleccionará las siguientes representaciones:
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
HVC &lt;Representation bandwidth=&quot;304000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
HVC &lt;Representation bandwidth=&quot;548000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
HVC &lt;Representation bandwidth=&quot;993000&quot; height=&quot;432&quot; width=&quot;768&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  Tenga en cuenta que solo se seleccionó una reproducción AVC, porque su resolución no duplica una reproducción HEVC existente.
</p>

<h4 id="Half_and_half">Mitad y mitad</h4>
<p>
  En este escenario, hay representaciones de menor resolución con el códec AVC y representaciones de mayor resolución con el códec HVC. Por ejemplo:
</p>
<pre class="line-numbers"><code class="language-html" translate="No">AVC &lt;Representation bandwidth=&quot;453000&quot; height=&quot;270&quot; width=&quot;480&quot;&gt;
AVC &lt;Representation bandwidth=&quot;704000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;903000&quot; height=&quot;360&quot; width=&quot;640&quot;&gt;
AVC &lt;Representation bandwidth=&quot;1202000&quot; height=&quot;540&quot; width=&quot;960&quot;&gt;
AVC &lt;Representation bandwidth=&quot;3761000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1301000&quot; height=&quot;576&quot; width=&quot;1024&quot;&gt;
HVC &lt;Representation bandwidth=&quot;1605000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
HVC &lt;Representation bandwidth=&quot;2809000&quot; height=&quot;720&quot; width=&quot;1280&quot;&gt;
</code></pre>
<p>
  En este caso, debido a que no hay códecs AVC con resoluciones que dupliquen las representaciones HEVC, el SDK nativo selecciona todas las representaciones, lo que permite a ExoPlayer seleccionar las representaciones según el ancho de banda disponible.
</p>
<p>
  El SDK nativo no fuerza la selección HEVC en todos los casos en este escenario, para evitar limitar la reproducción más baja a una reproducción HEVC de alta tasa de bits. Esto podría causar una mala experiencia de usuario con una mala conexión de red.
</p>
</section>

</article>