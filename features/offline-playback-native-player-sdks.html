---
title: Reproducción sin conexión con la descripción de los SDK del reproductor nativo
description: En este tema, aprenderá cómo funciona la reproducción sin conexión con los SDK de Brightcove Native Player.
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p>La reproducción sin conexión con los SDK de Brightcove Native Player para iOS y Android permite a los editores llegar a sus espectadores de formas completamente nuevas y, al mismo tiempo, garantizar la seguridad de su contenido. Nuestros SDK ofrecen soluciones poderosamente simples para problemas complejos de reproducción fuera de línea, incluida la gestión de descargas, la gestión de catálogos fuera de línea, análisis, DRM y, por supuesto, reproducción.</p>

<p>Al usar la reproducción sin conexión, los usuarios pueden descargar contenido de video protegido por DRM y claro (no cifrado) en sus dispositivos y verlo cuando no están conectados.</p>

<!-- <aside class="bcls-aside bcls-aside--tip">To use this feature, you need to be a Video Cloud customer using Dynamic Delivery.</aside> -->
</section>

<section class="bcls-section">
<h2 id="Requirements">Requisitos</h2>

<p>Los SDK de Brightcove Native Player admiten la reproducción sin conexión con las siguientes versiones:</p>

<h3>Versión del SDK nativo de Brightcove</h3>
<ul>
	<li>SDK nativo para iOS 6.0.1+</li>
	<li>SDK nativo para Android 5.0.3+</li>
</ul>

<h3>Versión del sistema operativo del dispositivo</h3>
<ul>
	<li>iOS 10.0+, pero se recomienda 10.3+</li>
	<li>Android 5.0 o superior</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Requirements">Configuración</h2>

<p>Para comenzar, haga lo siguiente:</p>
<ul>
	<li>Póngase en contacto con su administrador de cuentas para habilitar su cuenta para la reproducción sin conexión.</li>
	<li>Asegúrese de utilizar Dynamic Delivery cuando ingiera sus videos.</li>
  <li><a href="#Prepare_videos">Prepara cada video</a> que desea habilitar para su descarga.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Content_delivery">Entrega de contenido</h2>

<p>La transmisión de video aprovecha la función de transmisión de velocidad de bits múltiple de Video Cloud, que detecta el ancho de banda en la fuente y ofrece la mejor calidad para el dispositivo. La función de reproducción sin conexión admite los siguientes tipos de transmisión:</p>

<ul>
	<li><strong>Androide</strong>: Transmisión dinámica adaptable a través de HTTP (DASH)</li>
	<li><strong>iOS</strong>: Transmisión en directo HTTP de Apple (HLS)</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Security">Seguridad</h2>

<p>La protección del contenido descargado es lo más importante con nuestra solución sin conexión. Los SDK de Brightcove Native Player proporcionan la siguiente funcionalidad para garantizar que su contenido se almacene de forma segura en los espectadores' dispositivos:</p>

<h3>Contenido protegido por DRM</h3>

<ul>
	<li>Para el contenido protegido por DRM, los SDK nativos utilizan las siguientes tecnologías:
	<ul>
		<li><strong>Androide</strong>: DASH con <a href="https://castlabs.com/company/partners/google-widevine/">Widevine Modular</a></li>
		<li>
		<p><strong>iOS</strong>: HLS con <a href="https://developer.apple.com/streaming/fps/">Juego limpio</a></p>
		</li>
	</ul>
	</li>
	<li>
	<p>El contenido de video solo se puede ver en el dispositivo y la aplicación que lo descargó.</p>
	</li>
	<li>
	<p>El contenido de video solo se puede ver hasta una fecha y hora específicas de vencimiento.</p>

	<p>Los SDK nativos permiten a los usuarios alquilar o comprar videos. El vencimiento se aplica a los alquileres y se establece en la licencia DRM mediante la API de SDK nativos para descargar videos. Por el contrario, el vencimiento establecido en el token Fastly se aplica al contenido de transmisión.</p>
	</li>
	<li>Las URL de video devueltas al cliente caducarán para que otros no puedan usarlas.</li>
</ul>

<h3>Todo el contenido</h3>

<ul>
	<li>Cuando se elimina la aplicación, se elimina todo el contenido descargado. <aside class="bcls-aside bcls-aside--information">Para Android, esto es cierto siempre que no se anule la ubicación de almacenamiento predeterminada.</aside>
	</li>
	<li>Su aplicación puede eliminar el contenido almacenado localmente en cualquier momento.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Download_management">Gestión de descargas</h2>

<p>Los SDK de Brightcove Native Player manejan las complejidades de descargar contenido al dispositivo de un espectador, lo que simplifica enormemente el proceso para las aplicaciones nativas.</p>

<ul>
	<li>Los editores pueden elegir la calidad de reproducción del contenido a descargar.</li>
	<li>Los subtítulos se pueden descargar y mostrar sin conexión.</li>
	<li>Los SDK nativos admiten varias pistas de audio. Para obtener detalles sobre la descarga de pistas adicionales, consulte lo siguiente:
	<ul>
		<li><a href="/android/playback/multiple-audio-tracks-offline-playback-native-sdk-android.html">Varias pistas de audio para reproducción sin conexión con el SDK nativo para Android</a></li>
		<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md#downloading-secondary-tracks">Guía para desarrolladores de aplicaciones iOS para reproducción sin conexión</a>.</li>
	</ul>
	</li>
</ul>

<h3>Funcionalidad</h3>

<p>La siguiente funcionalidad se puede agregar a sus aplicaciones para respaldar la administración de descargas:</p>

<ul>
	<li><a href="#Display_content">Mostrar contenido</a></li>
	<li><a href="#Check_download_size">Verifique el tamaño de la descarga</a></li>
	<li><a href="#Show_download_status">Mostrar estado de descarga</a></li>
	<li><a href="#Manage_downloads">Gestionar descargas</a></li>
	<li><a href="#Show_local_storage_space">Mostrar espacio de almacenamiento local</a></li>
	<li><a href="#Pause_resume_cancel_download">Pausar / reanudar / cancelar descarga</a></li>
</ul>

<h3 id="Display_content">Mostrar contenido</h3>

<p>Muestra una lista de contenido disponible para transmisión o descarga.</p>

<p>Cuando configuras un video <code translate="No">offline_enabled</code> propiedad a <strong>cierto</strong> , los SDK nativos marcarán este video como descargable.</p>

<h4 id="Prepare_videos">Preparar videos</h4>

<p>Para marcar un video como descargable, debe hacer lo siguiente:</p>

<ol class="bcls-tasklist">
	<li>Si aún no lo ha hecho, comuníquese con su administrador de cuentas para habilitar su cuenta para la reproducción sin conexión.</li>
	<li>
	<p>Para cada video que desee que se pueda descargar, configure la opción sin conexión habilitada mediante una de las siguientes acciones:</p>

	<h4>Utilice Video Cloud Studio</h4>

	<p>Utilice Video Cloud Studio para <a href="https://studio.support.brightcove.com/media/editing-video-properties-using-media-module.html#videoinfo">habilitar la reproducción sin conexión</a>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Offline enabled" src="/assets/images/getting-started/offline/offline-enabled.png" />
	<figcaption class="bcls-caption--image">Sin conexión habilitado</figcaption>
	</figure>

	<h4>Utilice la API de CMS</h4>

	<p>También puede utilizar el <a href="https://apis.support.brightcove.com/cms/getting-started/overview-cms-api.html">API de CMS</a> para configurar el <a href="https://apis.support.brightcove.com/cms/references/cms-api-video-fields-reference.html">offline_enabled</a> campo a un valor de <strong>cierto</strong>.</p>

	<p>Aquí hay un ejemplo usando curl:</p>

	<pre class="line-numbers" data-start="1">
  <code class="language-json" translate="No">curl --header "Authorization: Bearer $oauth_token" --request PATCH --data '
  {"offline_enabled" : true}
  ' https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">your account id</span>/videos/<span class="bcls-input">your video id</span></code></pre>
	</li>
</ol>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Display content" src="/assets/images/getting-started/offline/content-list.png" />
<figcaption class="bcls-caption--image">Mostrar contenido</figcaption>
</figure>

<p>Cuando trabaje con contenido claro, consulte la <a href="#Best_practices">Mejores prácticas</a> sección para obtener consejos sobre cómo mostrar su contenido.</p>

<h3 id="Check_download_size">Verifique el tamaño de la descarga</h3>

<p>Brightcove recomienda que antes de solicitar una descarga, se asegure de que haya suficiente espacio en el almacenamiento del dispositivo para la descarga. Para obtener una estimación del tamaño total de la descarga del video, siga estos pasos:</p>

<ul>
	<li>Para iOS, revise la información en el <strong>Comprobar tamaño de descarga</strong> sección de la <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md#check-download-size">Guía para desarrolladores de aplicaciones iOS para la reproducción sin conexión</a>.</li>
	<li>
	<p>Para Android, puede obtener un presupuesto en el <a href="/android/reference/javadoc/com/brightcove/player/offline/MediaDownloadable.DownloadEventListener.html#onDownloadStarted-com.brightcove.player.model.Video-long-java.util.Map-"> OnDownloadStarted</a> devolución de llamada desde el <code translate="No">DownloadEventListener</code>. A continuación, se muestra un ejemplo de cómo configurar el detector de eventos:</p>

	<pre>
  <code class="language-java" translate="No">MediaDownloadable.DownloadEventListener downloadEventListener = new MediaDownloadable.DownloadEventListener() {
  //Your implementation.
  }
  OfflineCatalog catalog = new OfflineCatalog(context, eventEmitter, accountId, policyKey);
  catalog.addDownloadEventListener(downloadEventListener);</code></pre>
	</li>
</ul>

<p>&nbsp;</p>

<h3 id="Show_local_storage_space">Mostrar espacio de almacenamiento local</h3>

<p>Informe al usuario cuando no haya suficiente almacenamiento local para completar la descarga del elemento actual y cualquier elemento en la cola.</p>

<p>Los SDK proporcionan el tamaño y el progreso estimados para que pueda determinar si hay suficiente espacio para las descargas.</p>
<!-- <figure class="bcls-figure">
      <img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/guides/odrm/download-space.png" alt="Local storage space">
      <figcaption class="bcls-caption--image">Local storage space</figcaption>
      </figure> -->

<h3 id="Show_download_status">Mostrar estado de descarga</h3>

<p>Muestra la descarga actual junto con su estado.</p>

<p>Los SDK devolverán el tamaño total estimado, el estado actual de la descarga y el porcentaje de la información del progreso de la descarga.</p>
<!-- <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Download status" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/guides/odrm/download-progress.png" />
      <figcaption class="bcls-caption--image">Download status</figcaption>
      </figure> -->

<aside class="bcls-aside bcls-aside--tip">Para los dispositivos Android, el estado de la descarga también se muestra en el Área de notificaciones. El título de la notificación se establece en el título del video. La notificación se elimina si la descarga se detiene o cancela. Para obtener más detalles, consulte la <a href="/android/resources/code-snippets-using-native-sdk-android.html#Offline_playback_with_DRM">Fragmentos de código con el SDK nativo para Android</a> documento.</aside>

<h3 id="Manage_downloads">Gestionar descargas</h3>

<h4>Descarga de varios videos</h4>

<p>Los SDK nativos permitirán que varios videos se pongan en cola para su descarga. Por ejemplo, un usuario puede descargar varios episodios de una temporada y los SDK nativos administrarán el proceso proporcionando el estado de descarga de cada activo.</p>

<aside class="bcls-aside bcls-aside--information">Si su aplicación está orientada a iOS 11.0 - 11.2, no recomendamos las descargas simultáneas porque el comportamiento de pausa y reanudación no es confiable con múltiples descargas simultáneas. El problema se ha solucionado con iOS 11.3.</aside>
<!-- <figure class="bcls-figure">
      <img class="bcls-image--no-border" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/guides/odrm/download-queue.png" alt="Download queue">
      <figcaption class="bcls-caption--image">Download queue</figcaption>
      </figure> -->

  <h4>Descarga de pistas secundarias (iOS)</h4>
  <p>
    Con iOS 13, Apple ha cambiado el funcionamiento de las descargas. Para obtener más detalles, consulte la <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md#downloading-secondary-tracks">Guía del desarrollador de aplicaciones iOS para la descarga de videos y la reproducción sin conexión</a> guía.
  </p>
  <p>
    Debido a este cambio, la aplicación de muestra de descarga sin conexión de iOS puede parecer que vuelve a descargar videos con múltiples pistas de audio. Esto se debe a que se proporciona el progreso de la descarga para cada pista. Por lo tanto, la barra de progreso comenzará de nuevo desde cero para cada pista de audio adicional.
  </p>
  <p>
    Aquí hay una breve descripción de <code translate="No">AVMediaSelectionOptions</code> , subtítulos y pistas de audio alternativas: <a href="https://developer.apple.com/documentation/avfoundation/media_playback_and_selection/adding_subtitles_and_alternative_audio_tracks?preferredLanguage=occ">Adición de subtítulos y pistas de audio alternativas</a>
  </p>
  <h5>Determinar la descarga total</h5>
  <p>
    ¿Hay alguna forma de conseguir <code translate="No">didProgressTo</code> para la descarga total de un token de video?
  </p>
  <p>
    No. Para un token de video sin conexión, no hay un valor de progreso de descarga agregado. El desarrollador de la aplicación determina cuántas descargas de activos se realizarán. La primera descarga de activos es el video principal y las pistas de audio y texto preferidas. Por lo general, es la descarga más grande y el progreso avanzará de 0.00 a 100.00.
  </p>
  <p>
    Si una solicitud de descarga incluye selecciones de medios adicionales (que el desarrollador de la aplicación solicita explícitamente), el tiempo total de descarga es simplemente el del video principal y la selección de medios preferidos, más el de cada selección de medios adicional. Al representar el progreso total en la interfaz de usuario, elija un valor de escala para cada descarga, de modo que la suma de todas las descargas totalice el 100% y sume los tiempos de descarga escalados de cada selección de medios.
  </p>

  <h5>Identificar tipos de objetos</h5>
  <p>
    ¿Hay alguna forma de identificar qué tipo de objeto (video o pista de texto) cada <code translate="No">didProgressTo</code> eventos relacionados con?
  </p>
  <p>
    Si. Las descargas adicionales son de objetos de la opción de selección de medios de Apple (<code translate="No">AVMediaSelectionOption</code>), no pistas. El objeto de selección de medios que se está descargando se identifica en la devolución de llamada de progreso. (<a href="/ios/reference/sdk/Protocols/BCOVOfflineVideoManagerDelegate.html#//api/name/offlineVideoToken:aggregateDownloadTask:didProgressTo:forMediaSelection:">BCOVOfflineVideoManagerDelegate.h</a>)
  </p>
  <p>
    Apple proporciona métodos para examinar los atributos de una opción de selección de medios. Para obtener más información, consulte Apple <a href="https://developer.apple.com/documentation/avfoundation/avmediaselectionoption">AVMediaSelectionOption</a>.
  </p>
  <p>
    Puede ver los valores de metadatos en la consola del depurador de Xcode al ejecutar el <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Offline">Aplicación de muestra OfflinePlayer</a> (no se deje engañar por las dos opciones en inglés, es solo una aplicación de muestra)
  </p>
  <pre class="line-numbers">
<code class="language-objectivec" translate="No">OfflinePlayer[523:355259] AVMediaSelection option 0 | legible display name: English
OfflinePlayer[523:355259] AVMediaSelection option 0 | audible display name: English
OfflinePlayer[523:355259] AVMediaSelection option 1 | legible display name: English
OfflinePlayer[523:355259] AVMediaSelection option 1 | audible display name: English</code></pre>
<p>
  Puedes ver cómo se hace en el <a href="https://github.com/BrightcoveOS/ios-player-samples/blob/master/Offline/OfflinePlayer/objc/OfflinePlayer/ManagersUtilities/DownloadManager.m#L253-L262">Código de DownloadManager</a>.
</p>


<h3 id="Pause_resume_cancel_download">Pausar / reanudar / cancelar descarga</h3>

<p>Permita que el usuario pause, reanude o cancele la descarga de contenido.</p>

<p>La funcionalidad de descarga se reanudará donde se detuvo si el usuario hace una pausa / reanuda o si se interrumpe la descarga. Por ejemplo, si pierde la conexión Wi-Fi durante la descarga, se reanudará donde lo dejó cuando se vuelva a conectar.</p>

<p>Si cancela la descarga de un video, se borrará cualquier progreso realizado.</p>
<!-- <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Pause/resume/cancel download" src="//learning-services-media.brightcove.com/doc-assets/device-sdks/guides/odrm/download-cancelled.png" />
      <figcaption class="bcls-caption--image">Pause/resume/cancel download</figcaption>
      </figure> --></section>

<section class="bcls-section">
<h2 id="Local_catalog_management">Gestión de catálogos locales</h2>

<p>Los SDK de Brightcove Native Player simplifican el proceso de gestión del contenido local descargado.</p>

<p>La siguiente funcionalidad se puede agregar a sus aplicaciones para respaldar la administración del catálogo local:</p>

<ul>
	<li><a href="#Show_downloaded_content">Mostrar contenido descargado</a></li>
	<li><a href="#Play_local_content">Reproducir contenido local</a></li>
	<li><a href="#Delete_local_content">Eliminar contenido local</a></li>
</ul>

<h3 id="Show_downloaded_content">Mostrar contenido descargado</h3>

<p>Muestra todos los episodios descargados de cada programa / temporada.</p>

<p>Los SDK devuelven metadatos y detalles de reproducción de todo el contenido descargado. Estos metadatos incluyen el título del video, la descripción, las miniaturas, los subtítulos disponibles, las pistas de audio disponibles, etc.</p>

<p>Hay nuevas propiedades de metadatos específicas para la reproducción sin conexión, que incluyen lo siguiente:</p>

<h4>Contenido protegido por DRM</h4>

<ul>
	<li>Identificador de token</li>
	<li>Fecha de caducidad de la licencia</li>
</ul>

<h4>Todo el contenido</h4>

<ul>
	<li>Hora de inicio y finalización de la descarga</li>
	<li>Nombre de la miniatura descargada junto con la URL del archivo</li>
	<li>Nombre del póster descargado junto con la URL de su archivo</li>
	<li>URL de archivo relativo y derivado del paquete de video</li>
</ul>

<p>Luego, puede filtrar los resultados para su implementación específica.</p>

<aside class="bcls-aside bcls-aside--tip">Podrá ver el tiempo restante para una licencia de alquiler.</aside>

<h3 id="Delete_local_content">Eliminar contenido local</h3>

<p>Permita que los usuarios eliminen contenido del almacenamiento local.</p>

<p>Los SDK exponen un método para eliminar un video junto con sus metadatos y activos relacionados.</p>
</section>

<section class="bcls-section">
<h2 id="Content_playback">Reproducción de contenido</h2>

<p>Los SDK nativos le permiten reproducir contenido en las siguientes situaciones:</p>

<ul>
	<li>Reproduce un video mientras se descarga.</li>
	<li>Reproduzca un video después de que se haya descargado. El contenido descargado se puede reproducir localmente cuando el dispositivo está fuera de línea o en línea. El video sin conexión solo se puede reproducir desde el almacenamiento local.</li>
	<li>Si elige transmitir una versión en línea del video, debe recuperar un nuevo objeto de video del Servicio de reproducción.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Analytics">Analítica</h2>

<p>Se han introducido análisis para medir datos relacionados con el flujo sin conexión. Para obtener más detalles, consulte la <a href="/android/analytics/analytics-related-offline-playback-native-sdks.html">Análisis relacionados con la reproducción sin conexión con los SDK nativos</a> documento.</p>
</section>

<section class="bcls-section">
<h2 id="Samples">Muestras</h2>

<p>La siguiente tabla contiene vínculos a ejemplos de código para mostrarle cómo comenzar con la reproducción sin conexión:</p>

<table class="bcls-table">
	<thead class="bcls-table__head">
		<tr>
			<th style="width:25%">Aplicación de muestra</th>
			<th style="width:75%">Descripción</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/Offline">Reproducción sin conexión de iOS</a></td>
			<td>Descargue y reproduzca videos HLS, incluidos aquellos protegidos con cifrado FairPlay. Para obtener detalles del desarrollador, consulte la <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md">Guía para desarrolladores de aplicaciones iOS para reproducción sin conexión</a>.</td>
		</tr>
		<tr>
			<td><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/OfflinePlaybackSampleApp">Reproducción sin conexión de Android</a></td>
			<td>Descargue y reproduzca videos DASH, incluidos aquellos protegidos con cifrado Widevine.</td>
		</tr>
	</tbody>
</table>
</section>

<section class="bcls-section">
<h2 id="FAQ">Preguntas más frecuentes</h2>

<p>A continuación encontrará respuestas a algunas preguntas generales.</p>

<h3>Contenido protegido por DRM</h3>
<details style="padding:0;">
    <summary style="font-size:1.25em;">¿Puede el usuario cambiar el reloj del sistema para omitir la fecha de vencimiento?</summary>
    <p ><strong>Androide</strong>: La caducidad absoluta determina la fecha y la hora hasta la cual una licencia es válida. Widevine y la capa DRM de Android hacen cumplir esto. Teóricamente, la capa DRM en Android debe evitar que el usuario pase por alto el período de vencimiento. Cualquier problema que podamos haber encontrado se describe en las notas de la versión del sistema operativo Android.<br />
    <br />
    <strong>iOS</strong>: FairPlay aplica la expiración de la licencia. iOS maneja todas las comprobaciones de cambios de reloj, etc. Una aplicación tiene la opción de verificar la expiración de la licencia para alertar al usuario de que la licencia ha expirado. Esto puede ser preferible a simplemente reproducir un video caducado y luego recibir un error de reproducción.</p>
<!-- <p class="bcls-answer">Absolute expiration determines the date and time until which a license is valid. This is enforced by Widevine and the Android DRM layer. Theoretically, the DRM layer in Android must prevent the user from bypassing the expiration period. Any issues that we may have found is described in the <a href="/android/reference/release-notes.txt">Native SDK for Android release notes</a>.</p> -->
</details>
<br/>

<details style="padding:0;">
    <summary style="font-size:1.25em;">¿Continuarán cargándose la licencia y los videos sin conexión mientras la aplicación esté en segundo plano?</summary>
    <p><strong>Androide</strong>: Si. Por lo general, la licencia se descarga inmediatamente, pero incluso la licencia se puede descargar mientras la aplicación está en segundo plano.<br />
    <br />
    <strong>iOS</strong>: La carga de la licencia debería ocurrir en primer plano. Tenemos una <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVOfflineVideoManager.h#L631">método para precargar la licencia</a>. La descarga del contenido de video principal puede ocurrir mientras la aplicación está en segundo plano.</p>
<!-- <p class="bcls-answer">License loading should happen in the foreground. We have a method to preload the license.
      Downloading of the main video content can happen while the app is in the background.</p> -->
</details>

<h3>Todo el contenido</h3>
<details style="padding:0;">
    <summary style="font-size:1.25em;">¿Cuál es el formato de video que se usa para descargar contenido sin conexión?</summary>
    <p><strong>Androide</strong>: DASH protegido por DRM o DASH no cifrado.<br />
    <br />
    <strong>iOS</strong>: HLS al vapor. Puede especificar una tasa de bits para la descarga para usar una variante específica.</p>
</details>
<br/>

<details style="padding:0;">
    <summary style="font-size:1.25em;">¿Los videos descargados se reproducirán localmente o se transmitirán cuando el usuario esté en línea?</summary>
    <p>Un video descargado se puede reproducir mientras está en línea o sin conexión, pero siempre usará el video descargado. Si elige reproducir una versión en línea del video, debe recuperar un nuevo objeto de video del Servicio de reproducción. El video sin conexión solo se puede reproducir desde el almacenamiento local.</p>
</details>
<br/>



<p class="bcls-question"></p>


</section>

<section class="bcls-section">
<h2 id="Best_practices">Mejores prácticas</h2>

<p>Las siguientes pautas deberían ayudar al desarrollar su aplicación para la reproducción sin conexión.</p>

<h3>Visualización de botones de pausa / cancelación</h3>

<p>Los botones de pausa y cancelación deben mostrarse cuando se inicia la descarga de video.</p>

<p><strong>Androide:</strong> Debería mostrar los botones de pausa y cancelación como parte de la llamada al <code translate="No">onDownloadStarted</code> devolución de llamada en el <code translate="No">DownloadEventListener</code>. Para obtener más detalles, consulte la <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/OfflinePlaybackSampleApp">Aplicación de muestra de reproducción sin conexión</a>.</p>

<p><strong>iOS:</strong> Para obtener detalles sobre cómo crear una aplicación para la reproducción sin conexión, consulte la <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md">Guía para desarrolladores de aplicaciones iOS</a>.</p>

<h3>Visualización de contenido claro</h3>

<p>Si su cuenta no está habilitada para DRM o está trabajando con contenido claro, los SDK nativos de Brightcove no realizarán una solicitud de licencia del lado del servidor. Por lo tanto, el contenido claro no se considera disponible para alquiler o compra. En la mayoría de los casos, para un contenido claro, se recomienda que oculte el <strong>renta</strong> y <strong>comprar</strong> botones y mostrar un solo <strong>descargar</strong> en su lugar.</p>
</section>

<section class="bcls-section">
<h2 id="Enabling_the_feature">Habilitando la función</h2>

<p>Comuníquese con su gerente de cuenta para conocer los precios y habilitar la función de reproducción sin conexión para su cuenta.</p>
</section>

<section class="bcls-section">
<h2 id="Troubleshooting">Solución de problemas</h2>

<p>Los siguientes consejos pueden ayudarlo a investigar problemas al descargar videos.</p>

<p>Puede ocurrir un error cuando un usuario intenta descargar un activo a una tasa de bits más alta de la que el dispositivo puede manejar debido a una red lenta.</p>

<p>Para evitar esto, puede agregar código para verificar las capacidades del dispositivo y evitar que los dispositivos con conexiones lentas intenten descargar activos de alta tasa de bits. Puede probar con un dispositivo real mientras acelera la conexión y ver el tráfico de la red con el <a href="https://www.charlesproxy.com/">Charles proxy</a> herramienta.</p>

<h3>Androide</h3>

<p>Para obtener detalles sobre el manejo de errores, consulte la <a href="/android/troubleshooting/error-messages-native-sdk-android.html">Mensajes de error del SDK nativo para Android</a> documento. Esto incluye mensajes de error relacionados con la reproducción sin conexión.</p>

<h3>iOS</h3>

<p>Para obtener detalles sobre el manejo de errores, consulte la <a href="/ios/troubleshooting/error-handling-native-sdk-ios.html">Manejo de errores con el SDK nativo para iOS</a> documento.</p>

<p>Cuando el código de reproducción sin conexión recibe un error, lo detectamos y lanzamos un NSError. Para obtener el error subyacente, puede intentar esto:</p>

<pre class="line-numbers">
  <code class="language-objectivec" translate="No">NSError *underlyingError = initialError.userInfo[NSUnderlyingErrorKey];</code></pre>

<p>Para obtener más información, consulte el <a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/OfflinePlayback.md">Guía para desarrolladores de aplicaciones iOS para reproducción sin conexión</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Known_issues">Problemas conocidos</h2>

<p>Para obtener una lista de problemas conocidos para los sistemas operativos Android e iOS que afectan la reproducción sin conexión con los SDK nativos, consulte la <a href="/developer-support/questions/known-issues-brightcove-native-player-sdks.html">Problemas conocidos</a> documento de apoyo.</p>
</section>

<section class="bcls-section">
  <h2 id="Notes_and_limitations">Notas y limitaciones</h2>
  
  <p>Las siguientes notas se aplican a la función de reproducción sin conexión compatible con los SDK nativos:</p>
  
  <h3>Publicidad</h3>
  <p>Ni la publicidad del lado del cliente ni del lado del servidor es compatible con la reproducción sin conexión.</p>
  
  <h3>HLSe</h3>
  <p>El contenido de HLSe no es compatible con la reproducción sin conexión con Brightcove Native SDK para Android, iOS o tvOS.</p>
  
  <h3>Modo de bajo consumo</h3>
  <p>El modo de bajo consumo de los dispositivos puede afectar a determinadas funciones, incluida la descarga. Para obtener más información, consulte lo siguiente:</p>
  <ul>
    <li><a href="https://developer.android.com/about/versions/pie/power">Gestión de energía Android 9 (API nivel 28)</a></li>
    <li><a href="https://support.apple.com/en-us/HT205234">Modo de bajo consumo en tu iPhone</a></li>
    <li><a href="https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/LowPowerMode.html">Reaccionar al modo de bajo consumo en iPhones</a></li>
  </ul>
  
  <h3>Videos compartidos</h3>
  <p>Los videos compartidos se pueden descargar para verlos sin conexión solo si el video original puede ser. La propiedad se hereda del video original y no se puede cambiar solo para videos compartidos.</p>
  
  <h3>Solo audio</h3>
  <p>Los SDK nativos admiten contenido de solo audio con reproducción sin conexión. Tú controlas lo que ven los espectadores, ya sea una imagen de póster o una pantalla personalizada.</p>
  <p>
    El SDK nativo para Android requiere una <code translate="No">VideoView</code> y el SDK nativo para iOS requiere una <code translate="No">UIView</code>. Debido a esto, el audio de fondo no es compatible. Esto significa que el audio no seguirá reproduciéndose cuando un usuario envíe la aplicación a un segundo plano.
  </p>
  
  <h3>Androide: Eliminación de aplicaciones</h3>
  <p>Cuando se elimina la aplicación, se elimina todo el contenido descargado. Esto es cierto siempre que no se anule la ubicación de almacenamiento predeterminada.</p>
  
  <h3>iOS: Salida en antena</h3>
  <p>Como función de seguridad, no puede transmitir un video HLS sin conexión a un dispositivo AirPlay para su reproducción. Esto está confirmado por Apple como un <code translate="No">AVFoundation</code> limitación.</p>
  </section>
</article>