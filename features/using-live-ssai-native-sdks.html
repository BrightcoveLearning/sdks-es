---
title: 'Uso de Live SSAI con los SDK nativos'
description: En este tema, aprenderá a reproducir transmisiones en vivo habilitadas para la inserción de anuncios del lado del servidor (SSAI) mediante los SDK nativos de Brightcove.
parent: Live 
grandparent: Android Development
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p>Inserción de anuncios en el servidor (<span translate="No">SSAI</span> ) le permite unir anuncios en su flujo de contenido de video para brindar una experiencia de visualización similar a la de la televisión. Para reproducir una transmisión en vivo con los SDK nativos, debe pasar el token de reproducción con su solicitud de video.</p>

<p>Vivir <span translate="No">SSAI</span> Te permite:</p>

<ul>
	<li>Inserte anuncios utilizando puntos de referencia enviados desde su codificador o cree un punto de referencia instantáneo utilizando el <span translate="No">API en vivo</span></li>
	<li>Ingesta elementos de "lista" para completar el tiempo publicitario no utilizado</li>
	<li>Evite los bloqueadores de anuncios con anuncios que están integrados en la transmisión en vivo en el lado del servidor.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="Steps">Pasos</h2>

<p>Para reproducir una transmisión en vivo con <span translate="No">SSAI</span> , sigue estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li><a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html#Creating_a_Live_ad_configuration">Cree una configuración de anuncios en vivo</a> usando Video Cloud Studio</li>
	<li>Opcional: <a href="https://live.support.brightcove.com/live-module/implementing-server-side-ads-live-module.html#fill_slate">Crear activos de pizarra</a> y / o <a href="https://live.support.brightcove.com/live-api/ssai/live-api-cue-points-and-ad-beacons-ssai.html">Insertar puntos de referencia y balizas publicitarias</a></li>
	<li><a href="#Create_a_live_event">Crea un evento en vivo</a></li>
	<li><a href="#Get_the_playback_token">Obtener el token de reproducción</a></li>
	<li>
	<p>Crea tu aplicación:</p>

	<ul>
		<li><a href="#Android_implementation">Implementación de Android</a></li>
		<li><a href="#iOS_implementation">Implementación de iOS</a></li>
		<!-- <li><a href="#tvOS_implementation">tvOS implementation</a></li> -->
	</ul>
	</li>
	<li><a href="https://live.support.brightcove.com/live-module/implementing-server-side-ads-live-module.html#Requesting_an_ad">Solicitar una pausa publicitaria</a></li>
</ol>

<aside class="bcls-aside bcls-aside--tip">Si lo prefiere, puede utilizar la API en vivo para crear su transmisión y configurar sus pausas publicitarias. Para obtener más detalles, consulte la <a href="https://live.support.brightcove.com/live-api/ssai/live-api-server-side-ad-insertion-ssai.html">API en vivo: Inserción de anuncios en el servidor (SSAI)</a> documento.</aside>
</section>

<section class="bcls-section">
<h2 id="Create_a_live_event">Crea un evento en vivo</h2>

<p>De forma predeterminada, su transmisión en vivo utilizará un CDN de Brightcove. Si lo prefiere, puede utilizar su propia elección de CDN (BYO CDN o "traiga su propio ancho de banda"). Para usar su propia CDN, incluya el paso opcional en esta sección y en el <a href="#Get_the_playback_token">Obtener el token de reproducción</a> sección.</p>

<p>Para crear un evento en vivo, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>Referirse a <a href="https://live.support.brightcove.com/live-module/implementing-server-side-ads-live-module.html#create_event">Implementación de anuncios del lado del servidor en el módulo en vivo</a> documento.</li>
  <li>Ampliar la <strong>Opciones avanzadas</strong> sección.</li>
	<li>
    <p>Seleccione <strong>Habilitar la inserción de anuncios del lado del servidor (SSAI)</strong> y elige un <strong>Llenar pizarra</strong>.</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Enable SSAI" src="/assets/images/features/live-ssai/enable-ssai.png" />
      <figcaption class="bcls-caption--image">Habilitar SSAI</figcaption>
      </figure>
  </li>
	<li>
	<p><strong>Opcional</strong>: Para usar su propia CDN, incluya estos pasos adicionales:</p>
	<ul>
		<li>
		<p>En el <strong>Opciones avanzadas</strong> sección, seleccione la <strong>Agregar una configuración de CDN múltiple</strong> opción.</p>

		<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Multi CDN Configuration" src="/assets/images/features/live-ssai/add-cdn.png" />
		<figcaption class="bcls-caption--image">Configuración de CDN múltiple</figcaption>
		</figure>
		</li>
		<li>
      <p>Ingrese una etiqueta y una URL para su propia CDN. Para obtener más detalles, consulte la <a href="https://studio.support.brightcove.com/general/content-delivery-options.html">Opciones de entrega de contenido</a> documento.</p>
      <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Add label and URL" src="/assets/images/features/live-ssai/add-label-and-url.png" />
      <figcaption class="bcls-caption--image">Agregar etiqueta y URL</figcaption>
      </figure>
    </li>
	</ul>
	</li>
  <li>
    Cuando haya terminado de configurar su evento en vivo, haga clic en <strong>Crear evento</strong>.
  </li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Get_the_playback_token">Obtener el token de reproducción</h2>

<p>Cuando habilita SSAI con su transmisión en vivo, el código de inserción del reproductor contendrá un <code translate="No">adConfigId</code> parámetro. Este valor es el token de reproducción, que usará cuando solicite contenido de video en su aplicación.</p>

<p>Para obtener el token de reproducción, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>En Video Cloud Studio, vuelva a la <strong>Vivir</strong> módulo.</li>
	<li>En la navegación del lado izquierdo, seleccione <strong>Publicar e incrustar</strong>.</li>
	<li>
    <p>En el <strong>Opciones de reproductor en vivo</strong> sección, expanda la <strong>Seleccionar configuración de anuncios</strong> y seleccione la configuración de anuncios en vivo que creó en un paso anterior.</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Select Ad Configuration" src="/assets/images/features/live-ssai/select-ad-config.png" />
    <figcaption class="bcls-caption--image">Seleccionar configuración de anuncios</figcaption>
    </figure>
	</li>
  <li>
    <p>Copia el <a href="">Código de inserción estándar</a> a su portapapeles.</p>
    <figure class="bcls-figure"><img class="bcls-image--no-border" alt="Embed code" src="/assets/images/features/live-ssai/embed-code.png" />
    <figcaption class="bcls-caption--image">Código de inserción</figcaption>
    </figure>
	</li>
	<li>
	  <p>Desde el código de inserción, copie el <code translate="No">VideoId</code> valor del parámetro. Utilizará este valor en un paso posterior. Debería verse similar a esto:</p>
	<pre>
<code class="language-html" translate="No">1700044540369289748</code></pre>
	</li>
  <li>
	  <p>Desde el código de inserción, copie el <code translate="No">adConfigId</code> valor del parámetro. Utilizará estos valores en un paso posterior. La <code translate="No">adConfigId</code> value es el token de reproducción que se pasa al solicitar contenido de su biblioteca de Video Cloud. Debería verse similar a esto:</p>
	<pre>
<code class="language-html" translate="No">live.t0vbpNIjTPW6IZ29QsyuWrmgjvQjEWe3u_wPmaMqnhAmE05DCF7aAa-6fDIkvryJctH1rADJnfXYANy7tDg4agQFx23WIvsXMmAjz1BiNl-S3rFZ9tRdzRWdo1E4FTLkET6XcNuNZ2acTnzmow</code></pre>
	</li>
	<li>También necesitará el ID de cuenta y la Clave de política para su cuenta.</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="Android_implementation">Implementación de Android</h2>

<p>Para reproducir una transmisión en vivo, incluirá el <code translate="No">adConfigId</code> y el valor de su token de reproducción para su solicitud de video.</p>

<p>Siga estos pasos para crear su aplicación:</p>

<ol class="bcls-tasklist-restart">
	<li>Utilizar el <a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSsaiSampleApp">Aplicación de muestra básica de SSAI</a> como punto de partida para su código.</li>
	<li>En el <strong>res / valores / strings.xml</strong> archivo, reemplace lo siguiente con sus propios valores
	<ul>
		<li>ID de la cuenta</li>
    <li>Clave de política</li>
		<li>ID de video (del <a href="#Get_the_playback_token">Obtener el token de reproducción</a> sección anterior)</li>
	</ul>
	</li>
	<li>
	<p>En el <strong>MainActivity.java</strong> archivo, reemplace el <code translate="No">ad_config_id</code> valor con su token de reproducción (URL en vivo) que copió del módulo Live en el <a href="#Get_the_playback_token">Obtener el token de reproducción</a> sección anterior.</p>
	<pre>
<code class="language-java" translate="No">private final String AD_CONFIG_ID_QUERY_PARAM_VALUE = "live.t0vbpNIjTPW6IZ29QsyuWrmgjvQjEWe3u_wPmaMqnhAmE05DCF7aAa-6fDIkvryJctH1rADJnfXYANy7tDg4agQFx23WIvsXMmAjz1BiNl-S3rFZ9tRdzRWdo1E4FTLkET6XcNuNZ2acTnzmow";</code></pre>
	</li>
	<li>
	<p>La <code translate="No">ad_config_id</code> con su token de reproducción, el valor se agrega a la solicitud HTTP como parámetro de consulta.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
  .addQueryParameter(AD_CONFIG_ID_QUERY_PARAM_KEY, AD_CONFIG_ID_QUERY_PARAM_VALUE)
  .build();
</code></pre>
	</li>
	<li>
	<p>Realice la llamada de catálogo a la API de reproducción con su identificación de video de transmisión en vivo y la solicitud HTTP actualizada.</p>

	<pre class="line-numbers">
<code class="language-java" translate="No">catalog.findVideoByID(getString(R.string.video_id), httpRequestConfig, new VideoListener() {
   @Override
   public void onVideo(Video video) {
       plugin.processVideo(video);
   }
 });
</code></pre>
	</li>
	<li>
	<p>Su aplicación está lista para reproducir la transmisión en vivo.</p>

	<p>Para obtener más detalles sobre el uso de transmisiones en vivo habilitadas para SSAI con el SDK nativo para Android, consulte la <a href="https://www.brightcove.com/en/blog/2019/12/ssai-plugin-changes-690">Cambios en el complemento SSAI en 6.9.0</a> entrada en el blog.</p>
	</li>
</ol>
</section>

<section class="bcls-section">
<h2 id="iOS_implementation">Implementación de iOS</h2>

<p>Para reproducir una transmisión en vivo, incluirá el <code translate="No">adConfigId</code> y el valor de su token de reproducción para su solicitud de video.</p>

<p>Siga estos pasos para crear su aplicación:</p>

<ol class="bcls-tasklist-restart">
	<li>Utilizar el <a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/SSAI/BasicSSAIPlayer">Aplicación de muestra básica de SSAI</a> como punto de partida para su código.</li>
	<li>En el <strong>ViewController.swift</strong> archivo, reemplace lo siguiente con sus propios valores
	<ul>
		<li>ID de la cuenta</li>
    <li>Clave de política</li>
		<li>ID de video (del <a href="#Get_the_playback_token">Obtener el token de reproducción</a> sección anterior)</li>
	</ul>
	</li>
	<li>
	<p>En el <strong>ViewController.swift</strong> archivo, reemplace el <code translate="No">AdConfigId</code> valor con su token de reproducción (URL en vivo) que copió del módulo Live en el <a href="#Get_the_playback_token">Obtener el token de reproducción</a> sección anterior.</p>

	<pre>
<code class="language-swift" translate="No">static let AdConfigId = "live.t0vbpNIjTPW6IZ29QsyuWrmgjvQjEWe3u_wPmaMqnhAmE05DCF7aAa-6fDIkvryJctH1rADJnfXYANy7tDg4agQFx23WIvsXMmAjz1BiNl-S3rFZ9tRdzRWdo1E4FTLkET6XcNuNZ2acTnzmow";</code></pre>
	</li>
	<li>
	<p>La <code translate="No">AdConfigId</code> con su token de reproducción, el valor se agrega a la solicitud HTTP como parámetro de consulta.</p>

	<pre class="line-numbers">
<code class="language-swift" translate="No">let queryParameters = [kBCOVPlaybackServiceParamaterKeyAdConfigId: Constants.AdConfigId]
</code></pre>
	</li>
	<li>
	<p>Realice la llamada de catálogo a la API de reproducción con su identificación de video de transmisión en vivo y la solicitud HTTP actualizada.</p>

	<pre class="line-numbers">
<code class="language-swift" translate="No">playbackService.findVideo(withVideoID: Constants.VideoId, parameters: queryParameters) { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in

   guard let _video = video else {
     print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
     return
   }

   self?.playbackController?.setVideos([_video] as NSFastEnumeration)
}
</code></pre>
	</li>
	<li>Su aplicación está lista para reproducir la transmisión en vivo.</li>
</ol>
</section>
</article>