---
title: 'Implementación de anuncios del lado del servidor con los SDK nativos'
description: En este tema, aprenderá a reproducir anuncios del lado del servidor con los SDK de Brightcove Native Player, a partir de videos ingeridos para Dynamic Delivery.
parent: Features 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Descripción general</h2>

<p>La inserción de anuncios del lado del servidor (SSAI) le permite incrustar anuncios en sus videos para que no puedan ser bloqueados por bloqueadores de anuncios en el navegador. Dynamic Delivery es el sistema de ingesta y entrega de próxima generación que reduce su espacio de almacenamiento y empaqueta dinámicamente los medios. Más información sobre el uso <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">Entrega dinámica</a> para tus videos.</p>

<p>SSAI funciona con contenido DRM y no DRM.</p>

<aside class="bcls-aside bcls-aside--information">Notas:
<ul>
	<li>Para utilizar SSAI, su cuenta de Video Cloud debe estar configurada para <a href="https://studio.support.brightcove.com/general/overview-dynamic-delivery.html">Entrega dinámica</a> y habilitado para SSAI. Comuníquese con su gerente de cuenta para comenzar a usar esta función.</li>
	<li>SSAI funciona con Video-on-Demand (VOD) y admite reproducción en vivo.</li>
	<li>Para obtener una lista de limitaciones, consulte la <a href="https://ssai.support.brightcove.com/getting-started/video-cloud-ssai-overview.html#Limitations">Descripción general de SSAI</a> documento.</li>
</ul>
</aside>

<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Server-side ad" src="/assets/images/android/ssai/ssai-sdk.png" />
<figcaption class="bcls-caption--image">Anuncio del lado del servidor</figcaption>
</figure>

<p>Cualquier video que recupere de Video Cloud que haya sido ingerido con Dynamic Delivery, incluirá los anuncios especificados en el archivo VMAP en su configuración de anuncios.</p>

<p>Para reproducir anuncios del lado del servidor con su contenido de video almacenado en Video Cloud, siga estos pasos:</p>

<ol class="bcls-tasklist">
	<li><a href="#Create_an_ad_configuration">Crea una configuración de anuncios</a></li>
	<li>
	<p>Crea tu aplicación:</p>

	<ul>
		<li><a href="#Android_implementation">Implementación de Android</a></li>
		<li><a href="#iOS_implementation">Implementación de iOS</a></li>
		<li><a href="#tvOS_implementation">implementación de tvOS</a></li>
	</ul>
	</li>
	<li><a href="#Play_a_video_with_ads">Reproducir un video con anuncios</a></li>
	<!-- <li><a href="#Append_query_parameters">Append query parameters</a></li> -->
</ol>
</section>

<section class="bcls-section">
<h2 id="Create_an_ad_configuration">Crea una configuración de anuncios</h2>

<p>La configuración de anuncios define varios aspectos de la reproducción SSAI, incluida una URL a su archivo de lista de reproducción de anuncios múltiples de video (VMAP), balizas y otras configuraciones. Para crear una configuración de anuncios, siga estos pasos:</p>

<ol class="bcls-tasklist-restart">
	<li>
	<p>En Video Cloud Studio, expanda el <strong>ADMINISTRACIÓN</strong> menú y seleccione <strong>Configuración de anuncios del lado del servidor</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad configuration admin" src="/assets/images/android/ssai/ad-config-admin.png" />
	<figcaption class="bcls-caption--image">Administrador de configuración de anuncios</figcaption>
	</figure>
	</li>
	<li>
	<p>Agregue información para la configuración de su anuncio y seleccione <strong>Ahorrar</strong>.</p>

	<figure class="bcls-figure"><img class="bcls-image--no-border" alt="Ad settings" src="/assets/images/android/ssai/ad-settings.png" />
	<figcaption class="bcls-caption--image">Configuración de anuncios</figcaption>
	</figure>
	</li>
</ol>

<p>Para obtener más detalles, consulte la <a href="https://studio.support.brightcove.com/admin/configuring-server-side-ad-settings.html">Configuración de la configuración de anuncios del lado del servidor</a> documento.</p>

<p>Para crear una configuración de anuncios con la API SSAI, consulte la <a href="https://ssai.support.brightcove.com/vod/guides/video-cloud-ssai-ad-config-api.html">API de configuración de anuncios SSAI de Video Cloud</a> documento.</p>
</section>

<section class="bcls-section">
<h2 id="Android_implementation">Implementación de Android</h2>

<p>Siga estos pasos dentro de su aplicación para obtener la configuración de su anuncio y reproducir su video:</p>

<ol class="bcls-tasklist-restart">
	<li>En Android Studio, abra su <strong>MainActivity.java</strong> expediente.</li>
	<li>Agregue las siguientes declaraciones de importación:
	<pre>
<code class="language-java" translate="No">import com.brightcove.ssai.SSAIComponent;
import com.brightcove.player.network.HttpRequestConfig;</code></pre>
	</li>
	<li>Defina constantes para su identificación de cuenta, clave de política, identificación de video y su identificación de configuración de anuncios.
	<pre class="line-numbers">
<code class="language-swift" translate="No">private String accountId = "<span class="bcls-input">your account id</span>";
private String policyKey = "<span class="bcls-input">your policy key</span>";
private String videoId = "<span class="bcls-input">your video id</span>";
private String adConfigId = "<span class="bcls-input">your ad configuration id</span>";</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Aprenda a obtener o generar una clave de política en el <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Claves de política</a> documento.</aside>
	</li>
	<!-- <li>In the <code translate="No">onCreate</code> method, set the query parameter value to your ad configuration id.
  	<pre class="line-numbers">
<code class="language-swift" translate="No">Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();
      parameters.put("ad_config_id", adConfigId);
      </code></pre>
  	</li> -->
	<li>Cree una instancia del servicio de catálogo, que proporciona métodos asincrónicos para recuperar datos de la API de reproducción. Cree una instancia del componente SSAI.
	<pre class="line-numbers">
<code class="language-swift" translate="No">Catalog catalog = new Catalog(eventEmitter, myAccountId, myPolicyKey);
SSAIComponent plugin = new SSAIComponent(appContext, getBrightcoveVideoView());
</code></pre>
	</li>
	<li>Establezca adConfigId como parámetro de URL.
	<pre class="line-numbers">
<code class="language-java" translate="No">HttpRequestConfig httpRequestConfig = new HttpRequestConfig.Builder()
  .addQueryParameter("ad_config_id", myAdConfig)
  .build();</code></pre>
	</li>
	<li>Llame al servicio de catálogo para recuperar su video junto con la configuración de su anuncio desde la API de reproducción. Inicie la reproducción de video con sus anuncios específicos.
	<pre class="line-numbers">
<code class="language-swift" translate="No">catalog.findVideoByID(myVideoId, httpRequestConfig, new VideoListener() {
    @Override
    public void onVideo(Video video) {

    // Process the Video
    plugin.processVideo(video);
  }
});</code></pre>
	</li>
</ol>

<h3>Subtítulos</h3>
<aside class="bcls-aside bcls-aside--information">El SDK nativo para Android solo admite subtítulos en el manifiesto con SSAI. Es posible que los subtítulos del sidecar (o remotos) no se sincronicen con el contenido y las pausas publicitarias.</aside>

<h3>Eventos</h3>
<p>Para obtener detalles sobre los eventos asociados con la inserción de anuncios del lado del servidor, consulte lo siguiente:</p>
<ul>
	<li><a href="/android/reference/javadoc/com/brightcove/ssai/event/SSAIEventType.html">Tipos de eventos SSAI</a></li>
</ul>

<h3>Buscar sin anuncios</h3>
<p>Cuando desee deshabilitar la reproducción de anuncios mientras el usuario busca a través del video, consulte la <a href="/android/resources/code-snippets-using-native-sdk-android.html#Seek_without_ads">Buscar sin anuncios</a> fragmento de código.</p>

<h3>Muestra de código</h3>
<p>Aquí hay una muestra de código completa:</p>
<ul>
	<li><a href="https://github.com/BrightcoveOS/android-player-samples/tree/master/brightcove-exoplayer/BasicSsaiSampleApp">Reproductor SSAI básico con el SDK nativo para Android</a></li>
</ul>

<!-- <h3>Related topics</h3>
<p>For more details, see the following:</p>
<ul>
	<li><a href="/android/advertising/ssai-plugin-native-sdk-android.html">The SSAI Plugin for the Native SDK for Android</a></li>
	<li><a href="/android/advertising/ssai-plugin-native-sdk-android.html#Migrating_from_the_OnceUx_Plugin">Migrating from the OnceUX plugin</a></li>
</ul> -->
</section>

<section class="bcls-section">
<h2 id="iOS_implementation">Implementación de iOS</h2>

<p>Siga estos pasos dentro de su aplicación para obtener la configuración de su anuncio y reproducir su video:</p>

<ol class="bcls-tasklist-restart">
	<li>En Xcode, abra su <strong>ViewController.m</strong> expediente.</li>
	<li>Importe el complemento SSAI para iOS.
	<pre>
<code class="language-swift" translate="No">import BrightcoveSSAI</code></pre>
	</li>
	<li>Defina constantes para su identificación de cuenta, clave de política, identificación de video y su identificación de configuración de anuncios.
	<pre class="line-numbers">
<code class="language-swift" translate="No">struct Constants {
  static let AccountID = "<span class="bcls-input">your account id</span>"
  static let PlaybackServicePolicyKey = "<span class="bcls-input">your policy key</span>"
  static let VideoId = "<span class="bcls-input">your video id</span>"
  static let AdConfigId = "<span class="bcls-input">your ad configuration id</span>"
}</code></pre>

	<aside class="bcls-aside bcls-aside--tip">Aprenda a obtener o generar una clave de política en el <a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">Claves de política</a> documento.</aside>
	</li>
	<!-- <li>
      Define the view along with the companion view for ads.
      <pre class="line-numbers"><code class="language-swift" translate="No">class ViewController: UIViewController {
    @IBOutlet weak var videoContainerView: UIView!
    @IBOutlet weak var companionSlotContainerView: UIView!</code></pre>
    </li> -->
	<li>Definir el <code translate="No">BCOVPlaybackService</code> class, que proporciona métodos asincrónicos para recuperar datos de la API de reproducción.
	<pre class="line-numbers">
<code class="language-swift" translate="No">private lazy var playbackService: BCOVPlaybackService = {
  let factory = BCOVPlaybackServiceRequestFactory(accountId: Constants.AccountID, policyKey: Constants.PlaybackServicePolicyKey, baseURLStr: "https://edge.api.brightcove.com/playback/v1")
  return BCOVPlaybackService(requestFactory: factory)
}()</code></pre>
	</li>
	<li>Establezca el valor del parámetro de consulta en su ID de configuración de anuncios.
	<pre>
<code class="language-swift" translate="No">let queryParameters = [kBCOVPlaybackServiceParamaterKeyAdConfigId: Constants.AdConfigId]</code></pre>
	</li>
	<li>
	<p>Llama a <code translate="No">playbackService</code> para recuperar su video junto con la configuración de su anuncio desde la API de reproducción. Inicie la reproducción de video con sus anuncios específicos.</p>

	<pre class="line-numbers">
<code class="language-swift" translate="No">playbackService.findVideo(withVideoID: Constants.VideoId, parameters: queryParameters) { [weak self] (video: BCOVVideo?, jsonResponse: [AnyHashable: Any]?, error: Error?) -&gt; Void in

  guard let _video = video else {
    print("ViewController Debug - Error retrieving video: \(error?.localizedDescription ?? "unknown error")")
    return
  }

  self?.playbackController?.setVideos([_video] as NSFastEnumeration)
}</code></pre>
	</li>
</ol>

<h3>Eventos</h3>
<p>Para obtener detalles sobre los eventos asociados con la inserción de anuncios del lado del servidor, consulte lo siguiente:</p>
<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai/blob/master/ios/dynamic/BrightcoveSSAI.framework/Headers/BCOVSSAIConstants.h">Eventos SSAI</a></li>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVAdvertising.h">Eventos publicitarios</a></li>
</ul>

<h3>Buscar sin anuncios</h3>
<p>Cuando desee deshabilitar la reproducción de anuncios mientras el usuario busca a través del video, consulte la <a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai#seek-without-ads">Buscar sin anuncios</a> sección de la referencia del SDK.</p>

<h3>Muestra de código</h3>
<p>Aquí hay una muestra de código completa:</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/SSAI/BasicSSAIPlayer">Reproductor SSAI básico con el SDK nativo para iOS (Objective-C y Swift)</a></li>
</ul>

<h3>Temas relacionados</h3>
<p>Para obtener más detalles, consulte lo siguiente:</p>
<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai">El complemento SSAI para el SDK nativo para iOS</a></li>
	<!-- <li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai#migrating-onceux-to-ssai">Migrating from the OnceUX plugin</a></li> -->
</ul>
</section>

<section class="bcls-section">
<h2 id="tvOS_implementation">implementación de tvOS</h2>

<p>El código para implementar SSAI con el SDK nativo para tvOS es similar al <a href="#iOS_implementation">Implementación de iOS</a> sobre.</p>

<h3>Eventos</h3>
<p>Para obtener detalles sobre los eventos asociados con la inserción de anuncios del lado del servidor, consulte lo siguiente:</p>

<ul>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios-ssai/blob/master/ios/dynamic/BrightcoveSSAI.framework/Headers/BCOVSSAIConstants.h">Eventos SSAI</a></li>
	<li><a href="https://github.com/brightcove/brightcove-player-sdk-ios/blob/master/ios/dynamic/BrightcovePlayerSDK.framework/Headers/BCOVAdvertising.h">Eventos publicitarios</a></li>
</ul>

<h3>Muestra de código</h3>
<p>Aquí hay una muestra de código completa:</p>
<ul>
		<li><a href="https://github.com/BrightcoveOS/ios-player-samples/tree/master/SSAI/BasicSSAItvOSPlayer">Reproductor SSAI básico con el SDK nativo para tvOS (Objective-C y Swift)</a></li>
</ul>
</section>

<!-- <section class="bcls-section">
<h2 id="Additional_notes">Additional notes</h2>

<p>There are a few technical notes to be aware of when using SSAI with the Native SDKs.</p>

<h3>Brightcove Native SDK for iOS/tvOS</h3>

<ul>
	<li><strong>Post-rolls:</strong> The OnceUX plugin translates the <code translate="No">timeOffset</code> value of <code translate="No">end</code> on the final ad break (post-roll) to a <code translate="No">CMTime</code> value of <code translate="No">+INFINITY</code>, for speed and efficiency. This translation is done AFTER the VMAP document is received (which occurs after the Playback API response is received) and BEFORE playback begins.</li>
</ul>
</section> -->
</article>